<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="HTML，CSS，JavaScript 基础知识 " />
    
<link rel="stylesheet" href="/jnet-basic/css/layout.css">

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/tomorrow-night.css"
      integrity="sha256-qLi5v7wdKdn9AYLccUD3MLqpdfeMqy2ZU2vcImOS2xU="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <title>JNet Basic</title>
  <meta name="generator" content="Hexo 5.2.0"></head>

  <body>
    <div class="sidebar">
  <aside class="sidebar-toc-page"><!--  -->


<div class="toc-page">
  <div class="toc-page-hd">
    <a href="/jnet-basic/"> JNet Basic </a>
  </div>
  <ul>
    
<li>
  <a href="/jnet-basic/%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D/" class="">课程介绍</a>
</li>

<li>
  <a href="/jnet-basic/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" class="">软件安装</a>
</li>

<li>
  <span class="label">html_</span>
</li>
<ul>
  
<li>
  <a href="/jnet-basic/html_/%E6%95%99%E7%BA%B2/" class="">教纲</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E6%A6%82%E8%BF%B0/" class="">概述</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA/" class="">基础理论</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E5%A4%B4%E9%83%A8%E5%AD%A6%E4%B9%A0/" class="">头部学习</a>
</li>

<li>
  <span class="label">元素学习</span>
</li>
<ul>
  
<li>
  <a href="/jnet-basic/html_/%E5%85%83%E7%B4%A0%E5%AD%A6%E4%B9%A0/%E6%96%87%E7%AB%A0%E7%9B%B8%E5%85%B3%E7%9A%84%E5%85%83%E7%B4%A0/" class="">文章相关的元素</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E5%85%83%E7%B4%A0%E5%AD%A6%E4%B9%A0/%E8%B6%85%E9%93%BE%E6%8E%A5%E4%B8%8E%E5%9B%BE%E7%89%87/" class="">超链接与图片</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E5%85%83%E7%B4%A0%E5%AD%A6%E4%B9%A0/%E6%97%A0%E8%AF%AD%E4%B9%89%E5%85%83%E7%B4%A0/" class="">无语义元素</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E5%85%83%E7%B4%A0%E5%AD%A6%E4%B9%A0/%E8%A1%A8%E6%A0%BC/" class="">表格</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E5%85%83%E7%B4%A0%E5%AD%A6%E4%B9%A0/%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0/" class="">表单元素</a>
</li>

</ul>

<li>
  <a href="/jnet-basic/html_/%E5%B1%9E%E6%80%A7/" class="">属性</a>
</li>

<li>
  <a href="/jnet-basic/html_/%E8%A1%A5%E5%85%85%E4%B8%8E%E7%BB%93%E6%9D%9F/" class="">补充与结束</a>
</li>

</ul>

<li>
  <span class="label">css_</span>
</li>
<ul>
  
<li>
  <a href="/jnet-basic/css_/%E6%95%99%E7%BA%B2/" class="">教纲</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E6%A6%82%E8%BF%B0/" class="">概述</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E7%BC%96%E5%86%99_CSS/" class="">编写_CSS</a>
</li>

<li>
  <a href="/jnet-basic/css_/CSS_%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F/" class="">CSS_引入方式</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E9%80%89%E6%8B%A9%E5%99%A8/" class="">选择器</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-%E5%B1%82%E5%8F%A0%EF%BC%8C%E7%BB%A7%E6%89%BF%EF%BC%8C%E4%BC%98%E5%85%88%E7%BA%A7/" class="">核心概念-层叠，继承，优先级</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E7%9B%92%E6%A8%A1%E5%9E%8B%E4%B8%8E%E6%96%87%E6%A1%A3%E6%B5%81/" class="">盒模型与文档流</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" class="">文本处理</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/" class="">表格处理</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E8%83%8C%E6%99%AF%E5%A4%84%E7%90%86/" class="">背景处理</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E6%9D%82%E9%A1%B9/" class="">杂项</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E5%9F%BA%E7%A1%80%E5%B8%83%E5%B1%80/" class="">基础布局</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E5%B8%83%E5%B1%80%E8%BF%9B%E9%98%B6/" class="">布局进阶</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E5%B8%B8%E8%A7%81%E5%B8%83%E5%B1%80%E7%BB%83%E4%B9%A0/" class="">常见布局练习</a>
</li>

<li>
  <a href="/jnet-basic/css_/%E8%A1%A5%E5%85%85%E4%B8%8E%E7%BB%93%E6%9D%9F/" class="">补充与结束</a>
</li>

</ul>

<li>
  <span class="label">js_</span>
</li>
<ul>
  
<li>
  <a href="/jnet-basic/js_/%E7%9B%AE%E5%BD%95/" class="">目录</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E7%A8%8B%E5%BA%8F%E5%BC%95%E5%AF%BC%E8%AF%BE/" class="">程序引导课</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%9F%BA%E7%A1%80/" class="">基础</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E6%95%B0%E6%8D%AE%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="">数据、运算符和表达式</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%87%BD%E6%95%B0%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F/" class="">函数和作用域</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/" class="">引用类型</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="">流程控制</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD%E4%B8%8E%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" class="">类型判断与类型转换</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%87%BD%E6%95%B0%E6%B7%B1%E5%85%A5/" class="">函数深入</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%B8%B8%E7%94%A8_API/" class="">常用_API</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" class="">异步编程</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E6%8F%90%E5%8D%87/" class="">提升</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E9%97%AD%E5%8C%85/" class="">闭包</a>
</li>

<li>
  <a href="/jnet-basic/js_/this_%E5%85%B3%E9%94%AE%E5%AD%97/" class="">this_关键字</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%9E%8B/" class="">对象原型</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="">面向对象</a>
</li>

<li>
  <a href="/jnet-basic/js_/DOM&BOM/" class="current">DOM&BOM</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E6%B8%B2%E6%9F%93%E4%B8%8E%E5%8A%A0%E8%BD%BD/" class="">渲染与加载</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" class="">错误处理</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E5%86%85%E5%AD%98/" class="">内存</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F/" class="">严格模式</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E6%AD%A3%E5%88%99%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="">正则字符串</a>
</li>

<li>
  <a href="/jnet-basic/js_/%E7%BD%91%E7%BB%9C%E7%AE%80%E8%BF%B0/" class="">网络简述</a>
</li>

</ul>

<li>
  <a href="/jnet-basic/%E8%AF%BE%E7%A8%8B%E6%80%BB%E7%BB%93/" class="">课程总结</a>
</li>

<li>
  <a href="/jnet-basic/%E7%B4%A0%E6%9D%90/" class="">素材</a>
</li>

  </ul>
</div>
</aside>
  <aside class="sidebar-toc-article"><div class="toc-article"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM"><span class="toc-text">DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-%E6%A0%91%E4%B8%8E%E8%8A%82%E7%82%B9"><span class="toc-text">DOM 树与节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E8%8A%82%E7%82%B9"><span class="toc-text">选择节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E6%9F%A5%E8%AF%A2"><span class="toc-text">节点查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E5%A4%84%E7%90%86"><span class="toc-text">节点处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9"><span class="toc-text">创建节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E6%9B%BF%E6%8D%A2"><span class="toc-text">插入删除替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E5%85%B3%E7%B3%BB"><span class="toc-text">节点关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-text">节点基本属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%8A%82%E7%82%B9%E5%A4%84%E7%90%86"><span class="toc-text">属性节点处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E5%A4%84%E7%90%86"><span class="toc-text">元素节点处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9"><span class="toc-text">内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E5%BC%8F"><span class="toc-text">样式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E5%B1%9E%E6%80%A7"><span class="toc-text">表单元素属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BD%8D%E7%BD%AE"><span class="toc-text">大小和位置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3"><span class="toc-text">窗口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%B4%A0"><span class="toc-text">元素</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-text">事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E4%B8%8E%E8%A7%A3%E7%BB%91"><span class="toc-text">事件绑定与解绑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1-amp-%E4%BA%8B%E4%BB%B6%E6%BA%90"><span class="toc-text">事件对象 &amp; 事件源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%B5%81%E4%B8%8E%E5%86%92%E6%B3%A1%E6%8D%95%E8%8E%B7"><span class="toc-text">事件流与冒泡捕获</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6"><span class="toc-text">默认事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%8A%A8%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6"><span class="toc-text">主动触发事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%84%E7%B1%BB%E4%BA%8B%E4%BB%B6"><span class="toc-text">各类事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="toc-text">鼠标事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-text">键盘事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E4%BA%8B%E4%BB%B6"><span class="toc-text">表单事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BA%8B%E4%BB%B6"><span class="toc-text">其他事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E5%8A%A8%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6-1"><span class="toc-text">主动触发事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM-%E8%A1%A5%E5%85%85"><span class="toc-text">DOM 补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%89%B9%E4%BE%8B"><span class="toc-text">属性特例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BOM"><span class="toc-text">BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D-location"><span class="toc-text">定位 location</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2-history"><span class="toc-text">历史 history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BB%A3%E7%90%86-navigator"><span class="toc-text">用户代理 navigator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%BC%B9%E7%AA%97"><span class="toc-text">内置弹窗</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-text">补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#javascript-%E5%8D%8F%E8%AE%AE"><span class="toc-text">javascript 协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-text">练习</span></a></li></ol></div>
</aside>
</div>
<script>
  $(document).ready(function () {
    var elTocPage = $('.sidebar .sidebar-toc-page').get(0);
    $(elTocPage).on('click', function (elToc) {
      $(this).addClass('show')
    })
    $(document).on('click', function (el) {
      elTocPage.contains(el.target) || $(elTocPage).removeClass('show');
    })
  })
</script>
    <main><article>
  <h1>DOM&BOM</h1>
  <hr />
  <div class="article-bd"><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>DOM（Document Object Model）是文档对象，它记录当前文档中所有 HTML 元素，同时提供了大量访问 HTML 元素的 API。</p>
<p>你可以在使用 <code>document</code> 来访问它。</p>
<p>尝试修改下 <code>body</code> 元素的背景颜色：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.body.style.background = <span class="hljs-string">&quot;black&quot;</span>;<br></code></pre></td></tr></table></figure>

<p>还可以很鬼畜的玩：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">document</span>.body.style.background = <span class="hljs-string">&quot;#&quot;</span> + <span class="hljs-built_in">Math</span>.random().toString().slice(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>);<br>&#125;, <span class="hljs-number">200</span>);<br></code></pre></td></tr></table></figure>

<h3 id="DOM-树与节点"><a href="#DOM-树与节点" class="headerlink" title="DOM 树与节点"></a>DOM 树与节点</h3><p>DOM 是树形结构，比如一个简单的页面：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>  &lt;head&gt;<br>    &lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>  &lt;/head&gt;<br>  &lt;body&gt;<br>    &lt;h1 id=<span class="hljs-string">&quot;h1Name&quot;</span>&gt;content&lt;/h1&gt;<br>    text<br>  &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>它的树形结构类似下面样子：<br><img src="../../assets/DOM%E6%A0%91.png"></p>
<p>DOM 树由一个个的节点组成，有元素节点，有属性节点，有文本节点。 <code>&lt;!DOCTYPE html&gt;</code> 是文档声明，不参与 DOM 构建。</p>
<p>我们把上面一个个的框称作节点，他们都继承自 <code>Node</code> 类型，<code>Node</code> 类型三个基本属性：</p>
<ul>
<li>nodeType 节点类型</li>
<li>nodeName 节点名称</li>
<li>nodeValue 节点值</li>
</ul>
<p>DOM 树的 <strong>根节点</strong> 可以使用 <code>document.documentElement</code> 来访问，一般它都指向 <code>html</code> 元素，另外，<code>head</code> 和 <code>body</code> 可以使用 <code>document.head</code> 和 <code>document.body</code> 来访问，同时 <code>document</code> 也是一个节点，它表示文档节点。</p>
<h3 id="选择节点"><a href="#选择节点" class="headerlink" title="选择节点"></a>选择节点</h3><p>在设置 HTML 元素之前，我们首先得拿到这些元素在 JS 中的数据模型。</p>
<p>使用以下方式获取元素：</p>
<ul>
<li>document.getElementById</li>
<li>document.getElementsByClassName</li>
<li>document.getElementsByTagName</li>
<li>document.getElementsByName 不和文档树绑定</li>
<li>document.querySelector 不和文档树绑定</li>
<li>document.querySelectorAll 不和文档树绑定</li>
</ul>
<p>其中，后三项是不和 DOM 树绑定的，如果文档树改变，应该从新获取。</p>
<h3 id="节点查询"><a href="#节点查询" class="headerlink" title="节点查询"></a>节点查询</h3><p>元素节点：</p>
<ul>
<li>parentElement</li>
<li>nextElementSibling</li>
<li>previousElementSibling</li>
<li>children</li>
</ul>
<p>节点：</p>
<ul>
<li>parentNode</li>
<li>previousSibling</li>
<li>nextSibling</li>
<li>childNodes 不和文档树绑定</li>
</ul>
<h3 id="节点处理"><a href="#节点处理" class="headerlink" title="节点处理"></a>节点处理</h3><h4 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h4><ul>
<li>document.createElement</li>
<li>document.createTextNode</li>
<li>document.createDocumentFragment 空白片段，用来处理兄弟级的元素，比如多个 <code>li</code> 元素</li>
<li>document.createAttribute 不常用</li>
<li>document.createComment 不常用</li>
</ul>
<h4 id="插入删除替换"><a href="#插入删除替换" class="headerlink" title="插入删除替换"></a>插入删除替换</h4><ul>
<li>appendChild：添加到子节点列表的末尾</li>
<li>insertBefore(newNode,referenceNode)：插入到指定子节点之前，指定 <code>null</code> 插入到末尾</li>
<li>removeChild(childNode)</li>
<li>remove</li>
<li>replaceChild(newCihldNode,oldChildNode)</li>
</ul>
<p>节点处理的方法还有很多，以下方式可能是使用较少或者只有现代浏览器兼容，不再详细介绍：</p>
<ul>
<li>insertAdjacentElement</li>
<li>insertAdjacentHTML</li>
<li>insertAdjacentText</li>
<li>append</li>
<li>after</li>
<li>prepend</li>
<li>…</li>
</ul>
<h4 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h4><ul>
<li>Node.contains</li>
<li>Node.compareDocumentPosition 了解</li>
</ul>
<p><code>contains</code> 可以确认两个节点的包含关系，在 IE 中无法使用 <code>document.contains</code>，可以使用 <code>document.documentElement.contains</code>。</p>
<p><code>compareDocumentPosition</code> 是新版 DOM 的属性，返回两个节点之间的位置关系，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/compareDocumentPosition">返回值</a> 是一个掩码，通过二进制位运算符可以计算。</p>
<h3 id="节点基本属性"><a href="#节点基本属性" class="headerlink" title="节点基本属性"></a>节点基本属性</h3><ul>
<li>nodeName</li>
<li>nodeType 可以用来做节点类型判断，查表</li>
<li>nodeValue 针对不同类型的节点表示的意义不同，查表</li>
</ul>
<h3 id="属性节点处理"><a href="#属性节点处理" class="headerlink" title="属性节点处理"></a>属性节点处理</h3><p>HTML 中不止文本节点、元素节点、注释节点，还有一种特殊的节点叫做属性节点。属性节点就是 HTML 属性的数据模型，就比如 <code>img</code> 元素的 <code>src</code> 属性，<code>src</code> 属性被浏览器解析成一个节点，存储到元素节点中。</p>
<p>创建、获取和设置属性节点（不常用）：</p>
<ul>
<li>document.createAttribute(attrName)</li>
<li>el.getAttributeNode(attrName)</li>
<li>el.setAttributeNode(attrNode)</li>
</ul>
<p>获取和设置 元素属性（常用）：</p>
<ul>
<li>el.hasAttribute：判断一个属性是否存在，返回 <code>true</code> 或者 <code>false</code></li>
<li>el.setAttribute：设置一个属性</li>
<li>el.getAttribute：获取一个属性，如果属性不存在，旧浏览器可能返回空字符串，现代浏览器都会返回 <code>null</code>，为了支持旧版本，应该在获取属性前判断其存在性。</li>
</ul>
<p><strong>需要记住的是，并不是所有 HTML 属性都可以通过属性节点设置，比如复选框的 <code>checked</code> 状态。</strong></p>
<h3 id="元素节点处理"><a href="#元素节点处理" class="headerlink" title="元素节点处理"></a>元素节点处理</h3><h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><ul>
<li>innerHTML</li>
<li>innerText</li>
</ul>
<h4 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h4><ul>
<li><code>getComputedStyle(el[,state])</code>，state 是伪元素状态</li>
<li>style</li>
</ul>
<h4 id="表单元素属性"><a href="#表单元素属性" class="headerlink" title="表单元素属性"></a>表单元素属性</h4><ul>
<li><code>value</code></li>
<li>单选框和复选框元素多一个 <code>checked</code> 属性</li>
<li>下拉框有一个数字属性 <code>selectedIndex</code></li>
<li>现代浏览器的文件 files</li>
</ul>
<h3 id="大小和位置"><a href="#大小和位置" class="headerlink" title="大小和位置"></a>大小和位置</h3><h4 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a>窗口</h4><p>窗口大小</p>
<ul>
<li>window.innerWidth</li>
<li>window.innerHeight</li>
</ul>
<p>窗口滚动位置</p>
<ul>
<li>window.pageXOffset 标准</li>
<li>window.pageYOffset 标准</li>
<li>document.body.scrollTop &lt; IE7</li>
<li>document.body.scrollLeft &lt; IE7</li>
<li>document.documentElement.scrollTop &lt; IE9</li>
<li>document.documentElement.scrollLeft &lt; IE9</li>
</ul>
<p>其中，后四个获取滚动位置的方式在现代浏览器中不一定有效，如果需要网页运行在低版本 IE 下，可以编写兼容代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPageOffset</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.pageYOffset !== <span class="hljs-literal">undefined</span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">window</span>.pageXOffset, <span class="hljs-attr">y</span>: <span class="hljs-built_in">window</span>.pageYOffset &#125;;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">// IE7 以下时，document.compatMode 的值是 &quot;BackCompat&quot;</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.compatMode === <span class="hljs-string">&quot;BackCompat&quot;</span>) &#123;<br>      <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">document</span>.body.scrollTop, <span class="hljs-attr">y</span>: <span class="hljs-built_in">document</span>.body.scrollLeft &#125;;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">document</span>.documentElement.scrollTop, <span class="hljs-attr">y</span>: <span class="hljs-built_in">document</span>.documentElement.scrollLeft &#125;;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>设置窗口滚动</p>
<ul>
<li>window.scrollTo(x,y) 绝对</li>
<li>window.scrollBy(x,y) 相对</li>
</ul>
<h4 id="元素"><a href="#元素" class="headerlink" title="元素"></a>元素</h4><p>从计算样式上获取大小：</p>
<ul>
<li>getComutedStyle</li>
</ul>
<p>显示大小，用在可能有滚动条的情况下</p>
<ul>
<li>Element.clientHeight （padding + content - 滚动条）</li>
<li>Element.clientWidth （padding + content - 滚动条）</li>
<li>Element.offsetHeight （border + padding + content）</li>
<li>Element.offsetWidth （border + padding + content）</li>
</ul>
<p>相对位置</p>
<ul>
<li>Elemeng.offsetParent 获取指定包含块的父级，没有返回 null</li>
<li>Elemeng.offsetTop 相对 offsetParent 的顶部内边距距离</li>
<li>Elemeng.offsetLeft 相对 offsetParent 的左侧内边距距离</li>
</ul>
<p><img src="../../assets/%E5%85%83%E7%B4%A0%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BD%8D%E7%BD%AE.png"></p>
<p>绝对位置</p>
<ul>
<li><p>Element.getBoundingClientRect()</p>
<ul>
<li>安全值：top left right bottom，基于 border 到视区左上角的位置</li>
<li>非安全值通过上面的计算</li>
<li>元素显示大小也可以通过此计算</li>
</ul>
</li>
</ul>
<p>滚动位置</p>
<ul>
<li>Element.scrollHeight 滚动区高度</li>
<li>Element.scrollWidth 滚动区宽度</li>
<li>Element.scrollTop 已滚动高度，可设置</li>
<li>Element.scrollLeft 已滚动宽度，可设置</li>
</ul>
<p><img src="../../assets/%E5%85%83%E7%B4%A0%E7%BB%9D%E5%AF%B9%E4%BD%8D%E7%BD%AE%E4%B8%8E%E6%BB%9A%E5%8A%A8.png"></p>
<p>判断滚动到底部</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.scrollHeight - element.scrollTop === element.clientHeight;<br></code></pre></td></tr></table></figure>

<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>事件可以在页面中的操作与逻辑代码绑定关联关系，比如用户点击一个按钮，可以弹出一个表单或者更改页面的显示。</p>
<p>尝试给按钮的点击事件绑定一个事件处理器 <code>foo</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;foo()&quot;</span>&gt;</span>点击事件<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>上述代码会给这个按钮配置一个点击事件的事件处理器，当用户点击按钮的时候，会执行全局上的 <code>foo</code> 函数并传入一个事件对象。</p>
<h3 id="事件绑定与解绑"><a href="#事件绑定与解绑" class="headerlink" title="事件绑定与解绑"></a>事件绑定与解绑</h3><p>单个绑定</p>
<ul>
<li><code>el.onclick</code> = ….</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> bt0 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;button&quot;</span>)[<span class="hljs-number">0</span>];<br>bt0.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;事件执行了&quot;</span>);<br>&#125;;<br><span class="hljs-comment">// 解绑</span><br><span class="hljs-comment">// bt0.onclick = null;</span><br></code></pre></td></tr></table></figure>

<p>多个绑定</p>
<ul>
<li><code>addEventListener</code> 标准</li>
<li><code>removeEventListener</code> 标准</li>
<li><code>attachEvent</code> IE9-</li>
<li><code>detachEvent</code> IE9-</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> bt0 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;button&quot;</span>)[<span class="hljs-number">0</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;事件触发了&quot;</span>);<br>&#125;<br><br>bt0.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, foo);<br><span class="hljs-comment">// IE 低版本按照以下方式绑定</span><br><span class="hljs-comment">// bt.attachEvent(&quot;onclick&quot;, foo);</span><br><br><span class="hljs-comment">// 解绑</span><br><span class="hljs-comment">// bt0.removeEventListener(foo);</span><br><span class="hljs-comment">// bt0.detachEvent(foo);</span><br></code></pre></td></tr></table></figure>

<p>如果一个绑定的事件函数是一个函数表达式，并且这个函数表达式北邮被保存，那么将无法解绑事件，因为无法设置解绑的函数。比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> bt0 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;button&quot;</span>)[<span class="hljs-number">0</span>];<br><br><span class="hljs-comment">// 函数声明</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;foo，这个事件可以解绑&quot;</span>);<br>&#125;<br>bt0.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, foo);<br><span class="hljs-comment">// 解绑</span><br>bt0.removeEventListener(foo);<br><br><span class="hljs-comment">// 保存函数表达式</span><br><span class="hljs-keyword">var</span> bar = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;bar，这个事件可以解绑&quot;</span>);<br>&#125;;<br>bt0.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, bar);<br><span class="hljs-comment">// 解绑</span><br>bt0.removeEventListener(bar);<br><br><span class="hljs-comment">// 直接绑定一个函数表达式，无法解绑</span><br>bt0.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;bar，这个事件可以解绑&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>配合 HTML 代码绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;foo()&quot;</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;事件绑定&quot;</span>);</span><br>  &#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>上述绑定事件的方式不被推荐，因为这样 JavaScript 的代码干扰了 HTML 结构。</p>
<p><em>当多个一个事件绑定多个事件处理器时，触发事件的时候它们会按照绑定顺序执行。</em></p>
<h3 id="事件对象-amp-事件源"><a href="#事件对象-amp-事件源" class="headerlink" title="事件对象 &amp; 事件源"></a>事件对象 &amp; 事件源</h3><p>当页面事件触发的时候，事件处理器可以获取一个事件对象，里面包含了事件详细信息。一般情况下，事件对象会作为第一个参数传入到事件处理器中，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> bt0 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;button&quot;</span>)[<span class="hljs-number">0</span>];<br><br>bt0.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(e);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>但是并不是所有情况下都可以拿到事件对象，比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;test()&quot;</span>&gt;</span>bt<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">e</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(e); <span class="hljs-comment">// undefined</span></span><br>  &#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>不过上面的情况可以通过传入事件对象来解决，比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;test(event)&quot;</span>&gt;</span>bt<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">e</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(e);</span><br>  &#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>IE 低版本兼容性极差，可以使用 <code>window.event</code> 来获取，这是不标准的写法，因为 <code>window.event</code> 是动态的，并不安全：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> bt0 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;button&quot;</span>)[<span class="hljs-number">0</span>];<br><br>bt0.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> event = e || <span class="hljs-built_in">window</span>.event;<br>  <span class="hljs-built_in">console</span>.log(event);<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>在事件对象上的 <code>target</code> 属性引用了直接触发该事件的元素，这个元素一般被称作 <strong>事件源</strong>。低版本的 IE 中，事件源需要由事件对象上的 <code>srcElement</code> 属性获取。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;test(event)&quot;</span>&gt;</span>bt<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">e</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-keyword">var</span> event = e || <span class="hljs-built_in">window</span>.event;</span><br><span class="javascript">    <span class="hljs-keyword">var</span> targetEl = event.target || event.srcElement;</span><br><span class="javascript">    targetEl.style.background = <span class="hljs-string">&quot;red&quot;</span>;</span><br>  &#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>标准的事件源是通过 <code>target</code> 获取，<code>srcElement</code> 是兼容 IE 的写法。</p>
<h3 id="事件流与冒泡捕获"><a href="#事件流与冒泡捕获" class="headerlink" title="事件流与冒泡捕获"></a>事件流与冒泡捕获</h3><p>事件触发的方式，并不是仅作用到事件元素本身上，事件会被分发到触发元素的父级及祖先上，观察下列代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-keyword">var</span> div = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;div&quot;</span>)[<span class="hljs-number">0</span>];</span><br><br><span class="javascript">  div.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(e.target.value);</span><br>  &#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>我们在 <code>div</code> 元素上绑定了一个表单输入事件，<code>input</code> 元素的输入事件，传递给了父级，父级 <code>div</code> 元素监听到了子级传递过来的事件，我们把这种事件传播的行为，称作 <strong>事件流</strong>。</p>
<p>事件流是双向的，从父到子传递的过程被称作 <strong>事件捕获</strong>、从子到父传递的过程被称作 <strong>事件冒泡</strong>。每次事件触发时，会 <strong>先进行事件捕获，再进行事件冒泡</strong>。</p>
<p>通过指定 <code>addEventListener</code> 的第三个参数，可以指定事件在什么阶段触发。第三个参数是一个布尔值，<code>true</code> 为捕获阶段触发，<code>false</code> 为冒泡阶段触发。（IE 的事件监听器无法选择）</p>
<p>查看这个 <a target="_blank" rel="noopener" href="https://codesandbox.io/s/example-of-event-flow-kevot">例子</a>。</p>
<p>在 <a target="_blank" rel="noopener" href="https://www.w3.org/TR/DOM-Level-3-Events/#event-flow">w3c</a> 中，有对事件流传递过程的可视化模型。</p>
<p>事件流的传播可以阻止，在事件对象上提供了停止事件传播的方法：</p>
<ul>
<li>stopPropagation 标准</li>
<li>cancelBubble IE</li>
</ul>
<p>通过以下代码，可以在上面的例子中阻止事件传播：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;foo2&quot;</span>).addEventListener(<br>  <span class="hljs-string">&quot;click&quot;</span>,<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>    e.stopPropagation();<br>  &#125;,<br>  <span class="hljs-literal">true</span><br>);<br></code></pre></td></tr></table></figure>

<h3 id="默认事件"><a href="#默认事件" class="headerlink" title="默认事件"></a>默认事件</h3><p>很多事件有默认行为，比如超链接元素的 <code>click</code> 事件或者表单提交的 <code>submit</code> 事件，它们都有可能会跳转页面。</p>
<p>观察以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://www.baidu.com/s&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.iqiyi.com/&quot;</span>&gt;</span>iqiyi<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wd&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;search&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>上述代码中，无论点击 <code>iqiyi</code> 按钮还是点击 <code>search</code> 按钮，都会发生页面跳转，这是超链接点击事件和表单提交事件的默认行为，称作 <strong>默认事件</strong>。</p>
<p>默认事件是可以阻止的，使用事件对象的 <code>preventDefault</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;form&quot;</span>)[<span class="hljs-number">0</span>].addEventListener(<span class="hljs-string">&quot;submit&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  e.preventDefault();<br>&#125;);<br><br><span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;a&quot;</span>)[<span class="hljs-number">0</span>].addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  e.preventDefault();<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>低版本 IE 中不支持该方法，在低版本 IE 中，可以使用 <code>event.returnValue = false</code> 值来阻止默认事件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;form&quot;</span>)[<span class="hljs-number">0</span>].addEventListener(<span class="hljs-string">&quot;submit&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  e = e || <span class="hljs-built_in">window</span>.event;<br>  e.returnValue = <span class="hljs-literal">false</span>;<br>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="主动触发事件"><a href="#主动触发事件" class="headerlink" title="主动触发事件"></a>主动触发事件</h3><p>某些情况下，我们需要主动去触发一个事件，比如让一个文本框主动获取焦点，添加一下代码到前一小结的代码中，刷新页面，你会发现输入框自动获取到了焦点。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;input&quot;</span>)[<span class="hljs-number">0</span>].focus();<br></code></pre></td></tr></table></figure>

<p>所有事件都能主动触发，元素上有各个事件的执行函数。</p>
<h3 id="各类事件"><a href="#各类事件" class="headerlink" title="各类事件"></a>各类事件</h3><p>JS 中事件繁多：</p>
<ul>
<li>鼠标事件（鼠标点击，滑动）</li>
<li>键盘事件（键盘输入）</li>
<li>表单事件（表单改变，焦点获取或丢失等）</li>
<li>其他</li>
</ul>
<h3 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h3><table>
<thead>
<tr>
<th>事件名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>onclick</td>
<td>单击</td>
</tr>
<tr>
<td>ondbclick</td>
<td>双击（如果绑定了单击事件，那么单击事件也会触发）</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标按下</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标松开</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标移动</td>
</tr>
<tr>
<td>onmouseenter</td>
<td>鼠标移入到该元素内部 不会冒泡</td>
</tr>
<tr>
<td>onmouseleave</td>
<td>鼠标移出到该元素内部 不会冒泡</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标移入到该元素上（从内部子级移入也会触发）</td>
</tr>
<tr>
<td>onmouseout</td>
<td>鼠标移出到该元素上（移出到内部子级也会触发）</td>
</tr>
</tbody></table>
<p><strong>需要注意的是， <code>onclick</code> 和 <code>ondbclick</code> 都只有鼠标左键才能触发。</strong></p>
<p>鼠标事件的事件对象都是由 <code>MouseEvent</code> 创建的，以下是 <code>MouseEvent</code> 事件对象提供的常用的属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>MouseEvent.offsetX/Y</td>
<td>相对目标节点的内容边界（在 border 上可能为负值）的偏移量</td>
</tr>
<tr>
<td>MouseEvent.clientX/Y</td>
<td>相对客户端（默认是视区，也会是 iframe，webView 的边界）的偏移量</td>
</tr>
<tr>
<td>MouseEvent.screenX/Y</td>
<td>相对屏幕的偏移量</td>
</tr>
<tr>
<td>MouseEvent.shiftKey</td>
<td>是否按下辅助键 <code>shift</code> 键</td>
</tr>
<tr>
<td>MouseEvent.ctrlKey</td>
<td>是否按下辅助键 <code>ctrl</code> 键</td>
</tr>
<tr>
<td>MouseEvent.altKey</td>
<td>是否按下辅助键 <code>alt</code> 键</td>
</tr>
</tbody></table>
<p>鼠标滚轮事件</p>
<table>
<thead>
<tr>
<th>事件</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>onwheel</td>
<td>使用滚轮时触发，IE 不支持</td>
</tr>
<tr>
<td>onmousewheel</td>
<td>类似 onwheel ，非标准事件，不建议使用，Firefox 不支持</td>
</tr>
</tbody></table>
<p>鼠标滚轮事件由 <code>WheelEvent</code> 创建，它的原型是 <code>MouseEvent</code>，所以也可以使用 <code>MouseEvent</code> 的属性，<code>WheelEvent</code> 常用属性如下：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>对应事件</th>
<th>描述</th>
<th>兼容</th>
</tr>
</thead>
<tbody><tr>
<td>wheelDelta</td>
<td>onmousewheel</td>
<td>滚动的抽象值</td>
<td>Firefox 无效</td>
</tr>
<tr>
<td>wheelDeltaX</td>
<td>onmousewheel</td>
<td>X 轴滚动的抽象值</td>
<td>Firefox 无效 IE 无效</td>
</tr>
<tr>
<td>wheelDeltaY</td>
<td>onmousewheel</td>
<td>Y 轴滚动的抽象值</td>
<td>Firefox 无效 IE 无效</td>
</tr>
<tr>
<td>deltaX</td>
<td>onwheel</td>
<td>X 轴滚动量</td>
<td>IE 无效</td>
</tr>
<tr>
<td>deltaY</td>
<td>onwheel</td>
<td>Y 轴滚动量</td>
<td>IE 无效</td>
</tr>
<tr>
<td>deltaZ</td>
<td>onwheel</td>
<td>Z 轴滚动量</td>
<td>IE 无效</td>
</tr>
<tr>
<td>deltaMode</td>
<td>onwheel</td>
<td>滚动量的单位，0 为像素，1 为行，2 为页</td>
<td>IE 无效</td>
</tr>
</tbody></table>
<h3 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h3><table>
<thead>
<tr>
<th>事件名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>onkeydown</td>
<td>键盘按键按下</td>
</tr>
<tr>
<td>onkeypress</td>
<td>键盘按键按下并输入字符后触发，此事件在新标准中已废弃</td>
</tr>
<tr>
<td>onkeyup</td>
<td>键盘按键松开</td>
</tr>
</tbody></table>
<p>元素获取焦点后按下键盘按键会触发键盘事件，默认情况下，当点击页面中时，<code>body</code> 元素是获取到焦点的。</p>
<p>观察以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bindKeyEvent</span>(<span class="hljs-params">el, eventName, mes</span>) </span>&#123;<br>  el.addEventListener(eventName, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(mes);<br>  &#125;);<br>&#125;<br><br>bindKeyEvent(<span class="hljs-built_in">document</span>, <span class="hljs-string">&quot;keydown&quot;</span>, <span class="hljs-string">&quot;down&quot;</span>);<br>bindKeyEvent(<span class="hljs-built_in">document</span>, <span class="hljs-string">&quot;keypress&quot;</span>, <span class="hljs-string">&quot;press&quot;</span>);<br>bindKeyEvent(<span class="hljs-built_in">document</span>, <span class="hljs-string">&quot;keyup&quot;</span>, <span class="hljs-string">&quot;up&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>点击键盘按键，上述三个事件会依次执行，但若长按键盘按键， <code>keydown</code> 和 <code>keypress</code> 会交替执行，某些浏览器上，长按键盘按键 <code>keyup</code> 也会同前两个事件交替执行。</p>
<p>键盘事件对象由 <code>KeyboardEvent</code> 创建，<code>KeyboardEvent</code> 会提供一下常用属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>MouseEvent.shiftKey</td>
<td>是否按下辅助键 <code>shift</code> 键</td>
</tr>
<tr>
<td>MouseEvent.ctrlKey</td>
<td>是否按下辅助键 <code>ctrl</code> 键</td>
</tr>
<tr>
<td>MouseEvent.altKey</td>
<td>是否按下辅助键 <code>alt</code> 键</td>
</tr>
<tr>
<td>code</td>
<td>键码</td>
</tr>
<tr>
<td>key</td>
<td>键值</td>
</tr>
</tbody></table>
<p>有一些其他的键码或键值，比如 <code>keyCode</code>、<code>char</code>、<code>charCode</code>、<code>which</code> 等，它们可能是非标准的或者在新标准中被废弃，不建议使用。</p>
<h3 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h3><p>form 元素</p>
<table>
<thead>
<tr>
<th>事件名</th>
<th>描述</th>
<th>补充</th>
</tr>
</thead>
<tbody><tr>
<td>onsubmit</td>
<td>提交表单</td>
<td>当表单内，属性 <code>type=&quot;submit&quot;</code> 的 <code>input</code> 元素或者 <code>button</code> 元素被点击的时触发</td>
</tr>
<tr>
<td>onreset</td>
<td>重置表单</td>
<td>当表单内，属性 <code>type=&quot;reset&quot;</code> 的 <code>input</code> 元素被点击时触发</td>
</tr>
</tbody></table>
<p>input、select、textarea 元素</p>
<table>
<thead>
<tr>
<th>事件名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>onchange</td>
<td>焦点转移后有数据改变时触发</td>
</tr>
<tr>
<td>oninput</td>
<td>数据改变时触发，低版本 IE 不兼容</td>
</tr>
</tbody></table>
<h3 id="其他事件"><a href="#其他事件" class="headerlink" title="其他事件"></a>其他事件</h3><ul>
<li><p>焦点</p>
<ul>
<li>focus 不冒泡</li>
<li>blur 不冒泡</li>
</ul>
</li>
<li><p>滚动事件滚轮</p>
<ul>
<li>scroll 不冒泡</li>
</ul>
</li>
<li><p>窗口大小变化</p>
<ul>
<li>resize 不冒泡</li>
</ul>
</li>
<li><p>HTML 结构解析完成</p>
<ul>
<li>DOMContentLoaded</li>
</ul>
</li>
</ul>
<p><a href="./https://developer.mozilla.org/zh-CN/docs/Web/Events">剩余事件查表</a></p>
<h2 id="主动触发事件-1"><a href="#主动触发事件-1" class="headerlink" title="主动触发事件"></a>主动触发事件</h2><p>大部分事件都可以主动触发，比如表单提交，按钮点击等。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;bt&quot;</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-keyword">var</span> bt = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;bt&quot;</span>);</span><br><span class="javascript">  <span class="hljs-keyword">var</span> size = <span class="hljs-number">16</span>;</span><br><span class="javascript">  bt.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    bt.style.fontSize = size++ + <span class="hljs-string">&quot;px&quot;</span>;</span><br>  &#125;);<br><span class="javascript">  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br>    bt.click();<br>  &#125;, 1000);<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>上面代码中，给按钮绑定了一个点击事件，它的字体会因为点击而放大。同时绑定了一个定时器，每秒让按钮执行一次 <code>click</code> 事件。</p>
<p>需要主动触发一个事件，只要执行元素上对应的事件函数即可。</p>
<h2 id="DOM-补充"><a href="#DOM-补充" class="headerlink" title="DOM 补充"></a>DOM 补充</h2><h3 id="属性特例"><a href="#属性特例" class="headerlink" title="属性特例"></a>属性特例</h3><p>HTML 与 CSS 中有一些特殊的属性名在 JavaScript 中是保留关键字，比如元素的 <code>class</code>、<code>for</code> 属性与 <code>float</code> 样式。</p>
<p>设置元素的 <code>class</code> 属性时，使用的是 <code>className</code>；</p>
<p>设置 <code>label</code> 元素的 <code>for</code> 属性时，使用的是 <code>htmlFor</code>；</p>
<p>设置元素的 <code>float</code> 样式时，较老版本火狐使用 <code>cssFloat</code>，但是一般此项忽略。</p>
<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>BOM 全称 Browser Object Model（浏览器对象模型），在 web 中，使用 <code>window</code> 即可获取。</p>
<p>所有的全局上的数据都是 <code>window</code> 的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.a);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.Number === <span class="hljs-built_in">Number</span>); <span class="hljs-comment">// true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.Math === <span class="hljs-built_in">Math</span>); <span class="hljs-comment">// true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.document === <span class="hljs-built_in">document</span>); <span class="hljs-comment">// true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.window === <span class="hljs-built_in">window</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<p>无论在何处声明或隐式声明的全局变量或函数，都会成为 <code>window</code> 对象的属性。</p>
<p>BOM 上挂载了大量的内置 API，大部分第三方的 API 也都挂载在 <code>window</code> 上。</p>
<h3 id="定位-location"><a href="#定位-location" class="headerlink" title="定位 location"></a>定位 location</h3><p><code>window.location</code> 中包含当前页面地址相关信息，同时提供了页面跳转相关功能。</p>
<ul>
<li><code>location.href</code> 获取或跳转当前页面地址</li>
<li><code>location.reload</code> 重加载当前页</li>
<li><code>location.replace</code> 使用其他页面覆盖当前页面</li>
</ul>
<h3 id="历史-history"><a href="#历史-history" class="headerlink" title="历史 history"></a>历史 history</h3><p><code>window.history</code> 中记录了部分当前标签页的历史记录信息，这些信息不可更改，不过提供了在历史记录中跳转的功能。</p>
<ul>
<li><code>history.go</code> 指定前进或后退步数</li>
<li><code>history.back</code> 后退</li>
<li><code>history.forward</code> 前进</li>
</ul>
<h3 id="用户代理-navigator"><a href="#用户代理-navigator" class="headerlink" title="用户代理 navigator"></a>用户代理 navigator</h3><p>navigator 中包含了和浏览器相关的信息，各个浏览器对此对象的实现都不太一样，一般情况下，我们都通过 <code>navigator.userAgent</code> 来判断浏览器厂商版本号及当前设备信息。</p>
<p>通过对 <code>navigator.userAgent</code> 的判断，可以对不同的浏览器做不一样的适配与兼容，详细的判断代码到网上查询。</p>
<h3 id="内置弹窗"><a href="#内置弹窗" class="headerlink" title="内置弹窗"></a>内置弹窗</h3><p>alert confirm prompt48</p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><h3 id="javascript-协议"><a href="#javascript-协议" class="headerlink" title="javascript 协议"></a>javascript 协议</h3><p>在 <code>a</code> 元素中，<code>href</code> 属性可以设置 JavaScript 协议，从而执行 JavaScript 代码，比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript: alert(1)&quot;</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>在很久以前，让一个链接无法跳转可以编写以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript: void 0;&quot;</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-comment">&lt;!-- or --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript: void(0);&quot;</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>配合 <code>void</code> 关键字，可以让链接什么都不做，无法跳转链接或者锚点。这种方式现在已经不再提倡，如果需要让一个链接无法跳转，应该使用 JS 禁止其默认事件。比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.bilibili.com&quot;</span> <span class="hljs-attr">data-prevent</span>&gt;</span>bilibili<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  <span class="hljs-built_in">document</span>.body.addEventListener(</span><br><span class="javascript">    <span class="hljs-string">&quot;click&quot;</span>,</span><br><span class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;</span><br><span class="javascript">      e = e || <span class="hljs-built_in">window</span>.event;</span><br><span class="javascript">      <span class="hljs-keyword">var</span> target = e.target || e.srcElement;</span><br><span class="javascript">      <span class="hljs-keyword">if</span> (target.hasAttribute(<span class="hljs-string">&quot;data-prevent&quot;</span>)) &#123;</span><br>        e.preventDefault();<br>      &#125;<br>    &#125;,<br><span class="javascript">    <span class="hljs-literal">false</span></span><br>  );<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>上面代码中，设置自定义布尔属性 <code>data-prevent</code> 的元素都会被禁止默认事件，从而让 <code>a</code> 元素无法产生跳转。</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><ul>
<li><p>在页面上显示一个输入框和一个提交按钮，输入数字 n 动态生成乘法表格。（样式自定义）</p>
</li>
<li><p>编写可拖动的方块。</p>
</li>
<li><p>模拟 <code>alert</code>、<code>confirm</code>、<code>prompt</code>，通过传入回调函数来处理确认或取消。</p>
</li>
<li><p>在页面上展示随机位置的多个方块，点击鼠标使其聚拢和散列。<a target="_blank" rel="noopener" href="https://codesandbox.io/s/demo-random-box-mmplj">演示</a></p>
</li>
<li><p>编写轮播图，需要有上下翻页和索引翻页。</p>
</li>
<li><p>编写井字棋。</p>
</li>
<li><p>编写像素贪吃蛇。</p>
</li>
<li><p>编写数独游戏。</p>
</li>
<li><p>编写扫雷。</p>
</li>
</ul>
</div>
  <div class="article-ft">
    <p>
      <span class="last-update">最后更新时间：2020/12/08</span>
    </p>
  </div>
</article>
</main>
    <script>
      $(document).ready(function () {
        $("article table:not(.highlight table)").addClass("table table-hover");
        $("article blockquote").addClass("blockquote");
      });
    </script>
  </body>
</html>
