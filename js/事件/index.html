<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.0.2"/><title data-react-helmet="true"></title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-tomorrow.css"/><link as="script" rel="preload" href="/jnet-basic/webpack-runtime-1b4c36a6c31c46a229be.js"/><link as="script" rel="preload" href="/jnet-basic/framework-e8e53ba50a7a1b0850f7.js"/><link as="script" rel="preload" href="/jnet-basic/app-faf8e8c219cf8970d270.js"/><link as="script" rel="preload" href="/jnet-basic/1512ff2dbf77859a0dcbee24710e2018e282937f-369ee37846485c1e14f7.js"/><link as="script" rel="preload" href="/jnet-basic/component---src-templates-docs-tsx-3f6722c11400634ddec5.js"/><link as="fetch" rel="preload" href="/jnet-basic/page-data/js/事件/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/jnet-basic/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global b48ifx">body{margin:0;}html,body{overflow-x:hidden;}</style><style data-emotion="css-global 1vo6k5w">body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";color:#303133;}</style><style data-emotion="css zdq125">.css-zdq125{position:fixed;left:0;top:0;bottom:0;-webkit-transition:-webkit-transform 0.3s,opacity 0.3s;transition:transform 0.3s,opacity 0.3s;overflow:hidden;z-index:10;}@media screen and (min-width: 1200px){.css-zdq125:hover{overflow:auto;overflow:overlay;}}@media screen and (max-width: 1200px){.css-zdq125{opacity:0;-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}.css-zdq125.active{opacity:1;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);overflow:auto;overflow:overlay;}.css-zdq125 nav{width:100vw;}}</style><aside class=" css-zdq125"><style data-emotion="css k4cgyt">.css-k4cgyt{width:200px;overflow:hidden;padding:10px 0px 50px;border-right:4px double rgba(0, 0, 0, 0.1);min-height:100%;background:#fff;}.css-k4cgyt .title{text-align:center;}.css-k4cgyt .title a{line-height:40px;color:#c0c0c0;-webkit-text-decoration:none;text-decoration:none;font-size:1.5em;}</style><nav class="css-k4cgyt"><div class="title"><a href="/jnet-basic/">JNet Basic</a></div><style data-emotion="css smzts4">.css-smzts4 ol{list-style:none;padding-left:20px;margin:0;}.css-smzts4 ol ol{padding-left:10px;}.css-smzts4 ol li{line-height:30px;margin:0;}.css-smzts4 ol a{color:#555;-webkit-text-decoration:none;text-decoration:none;line-height:30px;}.css-smzts4 ol a:hover,.css-smzts4 ol a.current{color:#999;}</style><div class="css-smzts4"><ol><li><style data-emotion="css opu5s9">.css-opu5s9.active{color:#999;}</style><a class="css-opu5s9" href="/jnet-basic/课程介绍">课程介绍</a></li><li><span>html</span><ol><li><a class="css-opu5s9" href="/jnet-basic/html/概述">概述</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/基础理论">基础理论</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/头部学习">头部学习</a></li><li><span>元素学习</span><ol><li><a class="css-opu5s9" href="/jnet-basic/html/元素学习/文章相关的元素">文章相关的元素</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/元素学习/超链接与图片">超链接与图片</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/元素学习/无语义元素">无语义元素</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/元素学习/表格">表格</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/元素学习/表单元素">表单元素</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic/html/属性">属性</a></li><li><a class="css-opu5s9" href="/jnet-basic/html/补充与结束">补充与结束</a></li></ol></li><li><span>css</span><ol><li><a class="css-opu5s9" href="/jnet-basic/css/概述">概述</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/选择器">选择器</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/核心概念-层叠，继承，优先级">核心概念-层叠，继承，优先级</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/盒模型与文档流">盒模型与文档流</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/文本处理">文本处理</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/表格处理">表格处理</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/背景处理">背景处理</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/杂项">杂项</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/基础布局">基础布局</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/布局进阶">布局进阶</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/常见布局练习">常见布局练习</a></li><li><a class="css-opu5s9" href="/jnet-basic/css/补充与结束">补充与结束</a></li></ol></li><li><span>js</span><ol><li><a class="css-opu5s9" href="/jnet-basic/js/程序引导课">程序引导课</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/基础">基础</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/数据、运算符和表达式">数据、运算符和表达式</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/函数和作用域">函数和作用域</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/引用类型">引用类型</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/流程控制">流程控制</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/类型判断与类型转换">类型判断与类型转换</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/函数深入">函数深入</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/常用_API">常用_API</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/异步编程">异步编程</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/提升">提升</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/闭包">闭包</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/this_关键字">this_关键字</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/对象原型">对象原型</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/面向对象">面向对象</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/DOM">DOM</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件">事件</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/BOM">BOM</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/渲染与加载">渲染与加载</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/错误处理">错误处理</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/严格模式">严格模式</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/正则字符串">正则字符串</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/网络简述">网络简述</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/杂项">杂项</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic/总练习">总练习</a></li><li><a class="css-opu5s9" href="/jnet-basic/课程总结">课程总结</a></li><li><a class="css-opu5s9" href="/jnet-basic/素材">素材</a></li></ol></div></nav></aside><style data-emotion="css 1308utl">.css-1308utl{position:fixed;right:1rem;bottom:1rem;z-index:100;background-color:rgba(82, 122, 253, 0.37);border-radius:50%;padding:10px;border:none;width:20px;height:20px;box-sizing:content-box;-webkit-transition:background-color 0.3s;transition:background-color 0.3s;}@media screen and (min-width: 1200px){.css-1308utl{display:none;}}.css-1308utl svg{width:inherit;height:inherit;-webkit-transition:-webkit-transform 0.3s;transition:transform 0.3s;-webkit-transform:rotateX(0);-moz-transform:rotateX(0);-ms-transform:rotateX(0);transform:rotateX(0);}.css-1308utl.active{background-color:rgba(0, 0, 0, 0.123);}.css-1308utl.active svg{-webkit-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);}</style><button class=" css-1308utl"><svg enable-background="new 0 0 32 32" id="Слой_1" version="1.1" viewBox="0 0 32 32"><path d="M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z" fill="#121313" id="Expand_More"></path><g></g><g></g><g></g><g></g><g></g><g></g></svg></button><style data-emotion="css 117dd4v">.css-117dd4v{margin:auto;width:90%;max-width:760px;}.css-117dd4v .article-container{padding:50px 10px;}.css-117dd4v .article-catalog{position:fixed;top:0;left:80%;left:calc(50% + 380px);bottom:0;overflow:hidden;z-index:10;}.css-117dd4v .article-catalog:hover{overflow:auto;overflow:overlay;padding-right:1rem;}@media screen and (max-width: 1200px){.css-117dd4v .article-catalog{display:none;}}</style><main class="css-117dd4v"><aside class="article-catalog"><style data-emotion="css f4f9ae">.css-f4f9ae{padding:20px 0;white-space:nowrap;min-width:120px;box-sizing:content-box;}.css-f4f9ae .title{padding-left:20px;margin-bottom:20px;font-size:1.2em;font-weight:lighter;}</style><nav class="css-f4f9ae"><div class="title">目录</div><style data-emotion="css smzts4">.css-smzts4 ol{list-style:none;padding-left:20px;margin:0;}.css-smzts4 ol ol{padding-left:10px;}.css-smzts4 ol li{line-height:30px;margin:0;}.css-smzts4 ol a{color:#555;-webkit-text-decoration:none;text-decoration:none;line-height:30px;}.css-smzts4 ol a:hover,.css-smzts4 ol a.current{color:#999;}</style><div class="css-smzts4"><ol><li><style data-emotion="css opu5s9">.css-opu5s9.active{color:#999;}</style><a class="css-opu5s9" href="/jnet-basic/js/事件/#概述">概述</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#事件绑定与解绑">事件绑定与解绑</a><ol><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#单个绑定">单个绑定</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#多个绑定">多个绑定</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#元素绑定">元素绑定</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#事件对象 &amp; 事件源">事件对象 &amp; 事件源</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#事件流与冒泡捕获">事件流与冒泡捕获</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#默认事件">默认事件</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#各类事件">各类事件</a><ol><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#鼠标事件">鼠标事件</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#键盘事件">键盘事件</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#表单事件">表单事件</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#其他事件">其他事件</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#补充">补充</a><ol><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#主动触发事件">主动触发事件</a></li><li><a class="css-opu5s9" href="/jnet-basic/js/事件/#javascript 协议">javascript 协议</a></li></ol></li></ol></div></nav></aside><div class="article-container"><style data-emotion="css dsvq8h">.css-dsvq8h{line-height:1.5;}.css-dsvq8h h1,.css-dsvq8h h2,.css-dsvq8h h3,.css-dsvq8h h4,.css-dsvq8h h5,.css-dsvq8h h6{font-weight:500;line-height:1.2;color:#212529;}.css-dsvq8h h1 a,.css-dsvq8h h2 a,.css-dsvq8h h3 a,.css-dsvq8h h4 a,.css-dsvq8h h5 a,.css-dsvq8h h6 a,.css-dsvq8h h1 a:hover,.css-dsvq8h h2 a:hover,.css-dsvq8h h3 a:hover,.css-dsvq8h h4 a:hover,.css-dsvq8h h5 a:hover,.css-dsvq8h h6 a:hover,.css-dsvq8h h1 a:active,.css-dsvq8h h2 a:active,.css-dsvq8h h3 a:active,.css-dsvq8h h4 a:active,.css-dsvq8h h5 a:active,.css-dsvq8h h6 a:active,.css-dsvq8h h1 a:visited,.css-dsvq8h h2 a:visited,.css-dsvq8h h3 a:visited,.css-dsvq8h h4 a:visited,.css-dsvq8h h5 a:visited,.css-dsvq8h h6 a:visited{color:inherit;}.css-dsvq8h h1{font-size:2.5rem;}.css-dsvq8h h2{font-size:2rem;}.css-dsvq8h h3{font-size:1.75rem;}.css-dsvq8h h4{font-size:1.5rem;}.css-dsvq8h h5{font-size:1.25rem;}.css-dsvq8h h6{font-size:1rem;}.css-dsvq8h p{font-weight:400;font-size:1rem;}.css-dsvq8h em{background-color:#fcf8e3;font-style:normal;color:#000;}.css-dsvq8h blockquote{margin:1.25rem -1rem;padding:0.5rem 1.25rem;border:1px solid #eee;border-left-width:0.25rem;border-radius:0.25rem;border-left-color:#f0ad4e;}.css-dsvq8h blockquote cite{text-align:right;color:silver;font-size:1rem;}.css-dsvq8h ul,.css-dsvq8h ol{padding-left:2rem;}.css-dsvq8h .remark-highlight{margin-left:-1rem;margin-right:-1rem;}.css-dsvq8h pre{border-radius:5px;box-shadow:0 0 10px 3px #cacaca;}.css-dsvq8h code{color:#e83e8c;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:87.5%;}.css-dsvq8h img{box-shadow:0 0 10px 3px rgba(222, 226, 230, 0.548);border-radius:5px;}.css-dsvq8h a{color:#0d6efd;}.css-dsvq8h a:hover{color:#488df5;}.css-dsvq8h a:visited{color:#0a5dda;}.css-dsvq8h a:active{color:#72a6f5;text-shadow:0 0 3px #7e8af8;}</style><article class="css-dsvq8h"><h1>事件</h1><hr/><style data-emotion="css 1u87juy">.css-1u87juy:hover svg{visibility:visible;}</style><h2 id="概述" class="css-1u87juy">概述<style data-emotion="css 17vkerv">.css-17vkerv{float:left;margin-left:-24px;color:inherit;}.css-17vkerv svg{visibility:hidden;}</style><a href="#概述" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>事件可以在页面中的操作与逻辑代码绑定关联关系，在用户和代码之间建立交互。</p><p>尝试给按钮的点击事件绑定一个函数 <code>foo</code>：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击事件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;点击就弹框&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上述代码会给这个按钮注册一个点击事件，当用户点击按钮的时候，会执行全局上的 <code>foo</code> 函数。</p><p>其中，<code>onclick</code> 表示一个点击 <strong>事件</strong>，<code>foo</code> 被叫做这个点击事件的 <strong>事件处理器</strong>，事件与事件处理器之间存在绑定关系。</p><h2 id="事件绑定与解绑" class="css-1u87juy">事件绑定与解绑<a href="#事件绑定与解绑" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>为一个事件绑定事件处理器有三种方式：</p><ul><li>单个绑定</li><li>多个绑定</li><li>元素绑定</li></ul><h3 id="单个绑定" class="css-1u87juy">单个绑定<a href="#单个绑定" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>元素的所有事件都有对应的元素属性，通过给对应的事件属性赋值一个函数，即可绑定对应的事件处理器，比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> bt0 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
bt0<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;事件执行了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 解绑</span>
<span class="token comment">// bt0.onclick = null;</span>
</code></pre></div><p>如果需要解绑事件，直接让对应事件的值为 <code>null</code> 即可。</p><p><strong>当一个事件没有绑定时，它的默认值是 <code>null</code>，元素不支持事件为 <code>undefined</code>。</strong> 你可以使用此规则判断浏览器是否支持某个事件，比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token property-access">onclick</span> <span class="token operator">!==</span> <span class="token keyword nil">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;浏览器支持 onclick 事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="多个绑定" class="css-1u87juy">多个绑定<a href="#多个绑定" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>也可以为同一个元素的同一个事件绑定多个事件处理器，使用以下方法</p><ul><li><code>EventTarget.addEventListener</code>：为元素的某个事件绑定一个事件处理器</li><li><code>EventTarget.removeEventListener</code>：解绑一个事件</li><li><code>attachEvent</code>：绑定事件，IE9 以下使用</li><li><code>detachEvent</code>：解绑事件，IE9 以下使用</li></ul><p>示例：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> bt0 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;事件触发了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bt0<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// IE 低版本按照以下方式绑定</span>
<span class="token comment">// bt.attachEvent(&quot;onclick&quot;, foo);</span>

<span class="token comment">// 解绑</span>
<span class="token comment">// bt0.removeEventListener(foo);</span>
<span class="token comment">// bt0.detachEvent(foo);</span>
</code></pre></div><p>如果事件处理器是一个匿名函数表达式，并且这个函数表达式没有被保存，那么将无法解绑事件，因为无法设置解绑的函数。比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> bt0 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 函数声明</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;foo，这个事件可以解绑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bt0<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 解绑</span>
bt0<span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 保存函数表达式</span>
<span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;bar，这个事件可以解绑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
bt0<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 解绑</span>
bt0<span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 绑定一个具名函数表达式</span>
bt0<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;baz，这个事件可以在处理器中解绑，单击一次后解绑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 解绑</span>
  bt0<span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 绑定一个匿名函数表达式，无法解绑</span>
bt0<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;匿名，这个事件无法解绑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><mark>备注：当多个一个事件绑定多个事件处理器时，触发事件的时候它们会按照绑定顺序执行。</mark><p>因为低版本 IE 没有 <code>addEventListener</code>，你可以是自行编写兼容代码，如：</p><h3 id="元素绑定" class="css-1u87juy">元素绑定<a href="#元素绑定" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>可以配合 HTML 代码绑定事件：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;事件绑定&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上述绑定事件的方式不被推荐，因为这样 JavaScript 的代码干扰了 HTML 结构。</p><h2 id="事件对象 &amp; 事件源" class="css-1u87juy">事件对象 &amp; 事件源<a href="#事件对象 &amp; 事件源" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p><strong>当事件触发的时候，系统会传给事件处理器一个参数，这个参数称作事件对象，里面包含了事件执行时的详细信息。</strong> 比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> bt0 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

bt0<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>事件对象中有执行事件时的各种信息，不同的事件得到的事件对象有些许不同，稍后介绍各类事件时会逐一介绍对应的事件对象。</p><p>事件执行时，并不是所有情况下都会传入事件对象，比如：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面的情况可以通过主动传入事件对象来解决，比如：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test(event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>IE 低版本兼容性极差，可以使用 <code>window.event</code> 来获取，这是不标准的写法，因为 <code>window.event</code> 是动态的，并不安全：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> bt0 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

bt0<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> event <span class="token operator">=</span> e <span class="token operator">||</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">event</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>事件对象上的 <code>target</code> 属性指向触发该事件的元素，这个元素被称作 <strong>事件源</strong>。低版本的 IE 中，事件源需要由事件对象上的 <code>srcElement</code> 属性获取。</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test(event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> event <span class="token operator">=</span> e <span class="token operator">||</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">event</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> targetEl <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token property-access">target</span> <span class="token operator">||</span> event<span class="token punctuation">.</span><span class="token property-access">srcElement</span><span class="token punctuation">;</span>
    targetEl<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">background</span> <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>标准的事件源是通过 <code>target</code> 获取，<code>srcElement</code> 是兼容 IE 的写法。</p><h2 id="事件流与冒泡捕获" class="css-1u87juy">事件流与冒泡捕获<a href="#事件流与冒泡捕获" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>事件触发时，事件会被分发到触发事件元素的父级及祖先上，观察下列代码：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> div <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  div<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我们在 <code>div</code> 元素上绑定了一个表单输入事件，<code>input</code> 元素的输入事件，传递给了父级，父级 <code>div</code> 元素监听到了子级传递过来的事件，我们把这种事件传播的行为，称作 <strong>事件流</strong>。</p><p>事件流是双向的，从父到子传递的过程被称作 <strong>事件捕获</strong>、从子到父传递的过程被称作 <strong>事件冒泡</strong>。每次事件触发时，会 <strong>先进行事件捕获，再进行事件冒泡</strong>。</p><p>在 <a href="https://www.w3.org/TR/DOM-Level-3-Events/#event-flow">w3c</a> 中，有对事件流传递过程的可视化模型。</p><p>通过指定 <code>addEventListener</code> 的第三个参数，可以指定事件在什么阶段触发。第三个参数是一个布尔值，<code>true</code> 为捕获阶段触发，<code>false</code> 为冒泡阶段触发。（IE9 以下事件流只有冒泡阶段）</p><p>示例（查看控制台）：</p><iframe src="https://codesandbox.io/embed/example-of-event-flow-kevot?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="example-of-event-flow" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>事件流的传播可以阻止，在事件对象上提供了停止事件传播的方法：</p><ul><li><code>Event.stopPropagation</code>：标准，停止事件传播。</li><li><code>cancelBubble</code>：，停止事件冒泡，IE9 以下的事件流没有捕获阶段，只有冒泡阶段，所以 <code>attachEvent</code> 绑定事件就没有第三个参数。</li></ul><p>通过以下代码，可以在上面的例子中阻止事件传播：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;foo2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">true</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果你想让你的页面能顺畅运行在 IE9 以下，你可以在元素的原型上添加一个自定义绑定事件的方法：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> name<span class="token punctuation">,</span> handle<span class="token punctuation">,</span> useCatch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">addEventListener</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> handle<span class="token punctuation">,</span> useCatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span><span class="token method function property-access">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">,</span> handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bindEvent</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;事件绑定&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="默认事件" class="css-1u87juy">默认事件<a href="#默认事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>很多事件有默认行为，比如超链接元素的 <code>click</code> 事件或者表单提交的 <code>submit</code> 事件，它们都有可能会跳转页面。</p><p>观察以下代码：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.baidu.com/s<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.iqiyi.com/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>iqiyi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wd<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上述代码中，无论点击 <code>iqiyi</code> 按钮还是点击 <code>search</code> 按钮，都会发生页面跳转，这是超链接点击事件和表单提交事件的 <mark>默认行为</mark>。</p><p>默认行为是可以阻止的，使用事件对象的 <code>preventDefault</code> 方法：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;form&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>低版本 IE 中不支持该方法，在低版本 IE 中，可以使用 <code>event.returnValue = false</code> 值来阻止默认事件。</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;form&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e <span class="token operator">=</span> e <span class="token operator">||</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">event</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span><span class="token property-access">returnValue</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span><span class="token property-access">preventDefault</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="各类事件" class="css-1u87juy">各类事件<a href="#各类事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>JS 中事件繁多：</p><ul><li>鼠标事件（鼠标点击，滑动）</li><li>键盘事件（键盘输入）</li><li>表单事件（表单改变，焦点获取或丢失等）</li><li>其他</li></ul><h3 id="鼠标事件" class="css-1u87juy">鼠标事件<a href="#鼠标事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><style data-emotion="css l3k28e">.css-l3k28e{overflow-x:auto;margin:1rem -1rem;box-shadow:0 0 10px 3px rgba(222, 226, 230, 0.548);border-radius:5px;}.css-l3k28e table{border-collapse:collapse;min-width:100%;}.css-l3k28e thead tr{border-bottom:1px solid currentColor;}.css-l3k28e tbody tr{border-bottom:1px solid #dee2e6;}.css-l3k28e tbody tr:hover{background-color:#f8f9fa;}.css-l3k28e td,.css-l3k28e th{padding:0.75em;border:inherit;text-align:left;}.css-l3k28e th{white-space:nowrap;}</style><div class="css-l3k28e"><table><thead><tr><th>事件名</th><th>描述</th></tr></thead><tbody><tr><td><code>onclick</code></td><td>单击</td></tr><tr><td><code>ondbclick</code></td><td>双击（如果绑定了单击事件，那么单击事件也会触发）</td></tr><tr><td><code>onmousedown</code></td><td>鼠标按下</td></tr><tr><td><code>onmouseup</code></td><td>鼠标松开</td></tr><tr><td><code>onmousemove</code></td><td>鼠标移动</td></tr><tr><td><code>onmouseenter</code></td><td>鼠标移入到该元素内部 不会冒泡</td></tr><tr><td><code>onmouseleave</code></td><td>鼠标移出到该元素内部 不会冒泡</td></tr><tr><td><code>onmouseover</code></td><td>鼠标移入到该元素上（从内部子级移入也会触发）</td></tr><tr><td><code>onmouseout</code></td><td>鼠标移出到该元素上（移出到内部子级也会触发）</td></tr></tbody></table></div><p><strong>需要注意的是， <code>onclick</code> 和 <code>ondbclick</code> 都只有鼠标左键才能触发。</strong></p><p>鼠标事件的事件对象都是由 <code>MouseEvent</code> 创建的，以下是 <code>MouseEvent</code> 事件对象提供的常用的属性：</p><div class="css-l3k28e"><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><code>MouseEvent.offsetX/Y</code></td><td>相对目标节点的内容边界的偏移量（在 border 上可能为负值）</td></tr><tr><td><code>MouseEvent.clientX/Y</code></td><td>相对视区的偏移量</td></tr><tr><td><code>MouseEvent.screenX/Y</code></td><td>相对屏幕的偏移量</td></tr><tr><td><code>MouseEvent.shiftKey</code></td><td>是否按下辅助键 <code>shift</code> 键</td></tr><tr><td><code>MouseEvent.ctrlKey</code></td><td>是否按下辅助键 <code>ctrl</code> 键</td></tr><tr><td><code>MouseEvent.altKey</code></td><td>是否按下辅助键 <code>alt</code> 键</td></tr></tbody></table></div><p>鼠标滚轮事件</p><div class="css-l3k28e"><table><thead><tr><th>事件</th><th>描述</th></tr></thead><tbody><tr><td><code>onwheel</code></td><td>使用滚轮时触发，IE 不支持</td></tr><tr><td><code>onmousewheel</code></td><td>类似 onwheel ，非标准事件，不建议使用，Firefox 不支持</td></tr></tbody></table></div><p>鼠标滚轮事件由 <code>WheelEvent</code> 创建，它的原型是 <code>MouseEvent</code>，所以也可以使用 <code>MouseEvent</code> 的属性，<code>WheelEvent</code> 常用属性如下：</p><div class="css-l3k28e"><table><thead><tr><th>属性</th><th>对应事件</th><th>描述</th><th>兼容</th></tr></thead><tbody><tr><td><code>wheelDelta</code></td><td>onmousewheel</td><td>滚动的抽象值</td><td>Firefox 无效</td></tr><tr><td><code>wheelDeltaX</code></td><td>onmousewheel</td><td>X 轴滚动的抽象值</td><td>Firefox 无效 IE 无效</td></tr><tr><td><code>wheelDeltaY</code></td><td>onmousewheel</td><td>Y 轴滚动的抽象值</td><td>Firefox 无效 IE 无效</td></tr><tr><td><code>deltaX</code></td><td>onwheel</td><td>X 轴滚动量</td><td>IE 无效</td></tr><tr><td><code>deltaY</code></td><td>onwheel</td><td>Y 轴滚动量</td><td>IE 无效</td></tr><tr><td><code>deltaZ</code></td><td>onwheel</td><td>Z 轴滚动量</td><td>IE 无效</td></tr><tr><td><code>deltaMode</code></td><td>onwheel</td><td>滚动量的单位，0 为像素，1 为行，2 为页</td><td>IE 无效</td></tr></tbody></table></div><h3 id="键盘事件" class="css-1u87juy">键盘事件<a href="#键盘事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><div class="css-l3k28e"><table><thead><tr><th>事件名</th><th>描述</th></tr></thead><tbody><tr><td><code>onkeydown</code></td><td>键盘按键按下</td></tr><tr><td><code>onkeypress</code></td><td>键盘按键按下并输入字符后触发，此事件在新标准中已废弃</td></tr><tr><td><code>onkeyup</code></td><td>键盘按键松开</td></tr></tbody></table></div><p>元素获取焦点后按下键盘按键会触发键盘事件，默认情况下，当点击页面中时，<code>body</code> 元素是获取到焦点的。</p><p>观察以下代码：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">bindKeyEvent</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> eventName<span class="token punctuation">,</span> mes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>mes<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">bindKeyEvent</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">,</span> <span class="token string">&quot;keydown&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;down&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bindKeyEvent</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">,</span> <span class="token string">&quot;keypress&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;press&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bindKeyEvent</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">,</span> <span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>点击键盘按键，上述三个事件会依次执行，但若长按键盘按键， <code>keydown</code> 和 <code>keypress</code> 会交替执行，某些浏览器上，长按键盘按键 <code>keyup</code> 也会同前两个事件交替执行。</p><p>键盘事件对象由 <code>KeyboardEvent</code> 创建，<code>KeyboardEvent</code> 会提供一下常用属性：</p><div class="css-l3k28e"><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><code>MouseEvent.shiftKey</code></td><td>是否按下辅助键 <code>shift</code> 键</td></tr><tr><td><code>MouseEvent.ctrlKey</code></td><td>是否按下辅助键 <code>ctrl</code> 键</td></tr><tr><td><code>MouseEvent.altKey</code></td><td>是否按下辅助键 <code>alt</code> 键</td></tr><tr><td><code>code</code></td><td>键码</td></tr><tr><td><code>key</code></td><td>键值</td></tr></tbody></table></div><p>有一些其他的键码或键值，比如 <code>keyCode</code>、<code>char</code>、<code>charCode</code>、<code>which</code> 等，它们可能是非标准的或者在新标准中被废弃，不建议使用。</p><h3 id="表单事件" class="css-1u87juy">表单事件<a href="#表单事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p><code>form</code> 元素</p><div class="css-l3k28e"><table><thead><tr><th>事件名</th><th>描述</th><th>补充</th></tr></thead><tbody><tr><td><code>onsubmit</code></td><td>提交表单</td><td>当表单内，属性 <code>type=&quot;submit&quot;</code> 的 <code>input</code> 元素或者 <code>button</code> 元素被点击的时触发</td></tr><tr><td><code>onreset</code></td><td>重置表单</td><td>当表单内，属性 <code>type=&quot;reset&quot;</code> 的 <code>input</code> 元素被点击时触发</td></tr></tbody></table></div><p><code>input、select、textarea</code> 元素</p><div class="css-l3k28e"><table><thead><tr><th>事件名</th><th>描述</th></tr></thead><tbody><tr><td><code>onchange</code></td><td>焦点转移后有数据改变时触发</td></tr><tr><td><code>oninput</code></td><td>数据改变时触发，低版本 IE 不兼容</td></tr></tbody></table></div><h3 id="其他事件" class="css-1u87juy">其他事件<a href="#其他事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><ul><li><p>焦点</p><ul><li><code>focus</code> 不冒泡</li><li><code>blur</code> 不冒泡</li></ul></li><li><p>滚动事件滚轮</p><ul><li><code>scroll</code> 不冒泡</li></ul></li><li><p>窗口大小变化</p><ul><li><code>resize</code> 不冒泡</li></ul></li></ul><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Events">剩余事件查表</a></p><h2 id="补充" class="css-1u87juy">补充<a href="#补充" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><h3 id="主动触发事件" class="css-1u87juy">主动触发事件<a href="#主动触发事件" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>每个事件都可以主动触发，在元素属性上，有各类事件的触发方法，比如 <code>onclick</code> 事件使用 <code>click</code> 方法触发：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  foo<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> pEl <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pEl<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">&quot;content &quot;</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>pEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 就算不主动点击按钮，每过 1.5 秒也会触发 foo 元素的点击事件</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>所有事件都能主动触发，元素上有各个事件的执行函数。</p><h3 id="javascript 协议" class="css-1u87juy">javascript 协议<a href="#javascript 协议" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>我们的代码可以以内联的方式写在 HTML 元素中，所有的事件都支持 javascript 协议。比如：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:alert(<span class="token punctuation">&#x27;</span>what?<span class="token punctuation">&#x27;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 HTML 的事件属性中，<code>javascript:</code> 这个前缀可以省略，于是变成：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alert(<span class="token punctuation">&#x27;</span>what?<span class="token punctuation">&#x27;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>你甚至可以编写多行代码甚至复杂的语句：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>
    for(var i = 0 ; i &lt; 100;i++){
      console.log(i);
    }
  <span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  click
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>现在再来看看 HTML 内联事件绑定的方式：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickHandle()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">clickHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>是不是一目了然了，它其实不是特殊语法，而是点击按钮的时候，执行了一个函数。</p><p>javascript 协议不止可以编写到事件上，还可以通过 <code>href</code> 属性放在 <code>a</code> 元素中，在点击链接的时候从而执行 JavaScript 代码，比如：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: alert(1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果最后一个语句的值不为 <code>undefined</code> 那么页面会展示链接里的内容：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript:&#x27;&lt;strong&gt;这里是链接里的内容&lt;/strong&gt;&#x27;&quot;</span><span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre></div><p>点击后就出大问题了，页面的没有跳转，但是展示了新的内容，并且不能通过后退键返回上级，只能刷新页面（IE 低版本刷新都没用，需要新建标签页）。</p><p>为了防止上述情况发生，在很久很久很久以前，让一个链接无法跳转可以编写以下代码：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: void(0);<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>配合 <code>void</code> 关键字，表达式的值永远是 <code>undefined</code>，可以让链接不进行跳转并且不渲染其他内容，你可以在圆括号内编写任何代码而不影响页面。<mark>但是这种方式现在已经不再提倡，因为超链接的语义就是指定一个网络资源的地址，如果为了防止跳转而设置无用的地址，完全是本末倒置。</mark> 这里介绍的原因是很多老旧页面还存在这样的链接，相当于知识点补漏。</p><p>如果需要让一个链接无法跳转，应该使用 JS 禁止其默认事件。比如：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.bilibili.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-prevent</span><span class="token punctuation">&gt;</span></span>bilibili<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e <span class="token operator">=</span> e <span class="token operator">||</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">event</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span> <span class="token operator">||</span> e<span class="token punctuation">.</span><span class="token property-access">srcElement</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token method function property-access">hasAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data-prevent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token property-access">returnValue</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token property-access">preventDefault</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面代码中，设置自定义布尔属性 <code>data-prevent</code> 的元素都会被禁止默认事件，从而让 <code>a</code> 元素无法产生跳转。</p><blockquote><p>备注：非常不提倡把 JavaScript 内联写到 HTML 中。</p></blockquote></article></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/js/事件/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-da8157b780a7e1fd9e9e.js"],"app":["/app-faf8e8c219cf8970d270.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f91e86cfe65092e3adc1.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-57b3b630e72243cc3df9.js"],"component---src-templates-docs-tsx":["/component---src-templates-docs-tsx-3f6722c11400634ddec5.js"]};/*]]>*/</script><script src="/jnet-basic/polyfill-da8157b780a7e1fd9e9e.js" nomodule=""></script><script src="/jnet-basic/component---src-templates-docs-tsx-3f6722c11400634ddec5.js" async=""></script><script src="/jnet-basic/1512ff2dbf77859a0dcbee24710e2018e282937f-369ee37846485c1e14f7.js" async=""></script><script src="/jnet-basic/app-faf8e8c219cf8970d270.js" async=""></script><script src="/jnet-basic/framework-e8e53ba50a7a1b0850f7.js" async=""></script><script src="/jnet-basic/webpack-runtime-1b4c36a6c31c46a229be.js" async=""></script></body></html>