<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.0.2"/><title data-react-helmet="true"></title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-tomorrow.css"/><link as="script" rel="preload" href="/jnet-basic-v2/webpack-runtime-a52939d631f5cc604aea.js"/><link as="script" rel="preload" href="/jnet-basic-v2/framework-e8e53ba50a7a1b0850f7.js"/><link as="script" rel="preload" href="/jnet-basic-v2/app-38218a2ef72326a75367.js"/><link as="script" rel="preload" href="/jnet-basic-v2/1512ff2dbf77859a0dcbee24710e2018e282937f-369ee37846485c1e14f7.js"/><link as="script" rel="preload" href="/jnet-basic-v2/component---src-templates-docs-tsx-3f6722c11400634ddec5.js"/><link as="fetch" rel="preload" href="/jnet-basic-v2/page-data/js/正则字符串/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/jnet-basic-v2/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global b48ifx">body{margin:0;}html,body{overflow-x:hidden;}</style><style data-emotion="css-global 1vo6k5w">body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";color:#303133;}</style><style data-emotion="css zdq125">.css-zdq125{position:fixed;left:0;top:0;bottom:0;-webkit-transition:-webkit-transform 0.3s,opacity 0.3s;transition:transform 0.3s,opacity 0.3s;overflow:hidden;z-index:10;}@media screen and (min-width: 1200px){.css-zdq125:hover{overflow:auto;overflow:overlay;}}@media screen and (max-width: 1200px){.css-zdq125{opacity:0;-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}.css-zdq125.active{opacity:1;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);overflow:auto;overflow:overlay;}.css-zdq125 nav{width:100vw;}}</style><aside class=" css-zdq125"><style data-emotion="css k4cgyt">.css-k4cgyt{width:200px;overflow:hidden;padding:10px 0px 50px;border-right:4px double rgba(0, 0, 0, 0.1);min-height:100%;background:#fff;}.css-k4cgyt .title{text-align:center;}.css-k4cgyt .title a{line-height:40px;color:#c0c0c0;-webkit-text-decoration:none;text-decoration:none;font-size:1.5em;}</style><nav class="css-k4cgyt"><div class="title"><a href="/jnet-basic-v2/">JNet Basic</a></div><style data-emotion="css smzts4">.css-smzts4 ol{list-style:none;padding-left:20px;margin:0;}.css-smzts4 ol ol{padding-left:10px;}.css-smzts4 ol li{line-height:30px;margin:0;}.css-smzts4 ol a{color:#555;-webkit-text-decoration:none;text-decoration:none;line-height:30px;}.css-smzts4 ol a:hover,.css-smzts4 ol a.current{color:#999;}</style><div class="css-smzts4"><ol><li><style data-emotion="css opu5s9">.css-opu5s9.active{color:#999;}</style><a class="css-opu5s9" href="/jnet-basic-v2/课程介绍">课程介绍</a></li><li><span>html</span><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/html/概述">概述</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/基础理论">基础理论</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/头部学习">头部学习</a></li><li><span>元素学习</span><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/html/元素学习/文章相关的元素">文章相关的元素</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/元素学习/超链接与图片">超链接与图片</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/元素学习/无语义元素">无语义元素</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/元素学习/表格">表格</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/元素学习/表单元素">表单元素</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/属性">属性</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/html/补充与结束">补充与结束</a></li></ol></li><li><span>css</span><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/css/概述">概述</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/选择器">选择器</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/核心概念-层叠，继承，优先级">核心概念-层叠，继承，优先级</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/盒模型与文档流">盒模型与文档流</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/文本处理">文本处理</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/表格处理">表格处理</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/背景处理">背景处理</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/杂项">杂项</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/基础布局">基础布局</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/布局进阶">布局进阶</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/常见布局练习">常见布局练习</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/css/补充与结束">补充与结束</a></li></ol></li><li><span>js</span><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/js/程序引导课">程序引导课</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/基础">基础</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/数据、运算符和表达式">数据、运算符和表达式</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/函数和作用域">函数和作用域</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/引用类型">引用类型</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/流程控制">流程控制</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/类型判断与类型转换">类型判断与类型转换</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/函数深入">函数深入</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/常用_API">常用_API</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/异步编程">异步编程</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/提升">提升</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/闭包">闭包</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/this_关键字">this_关键字</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/对象原型">对象原型</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/面向对象">面向对象</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/DOM">DOM</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/事件">事件</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/BOM">BOM</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/渲染与加载">渲染与加载</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/错误处理">错误处理</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/严格模式">严格模式</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串">正则字符串</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/网络简述">网络简述</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/杂项">杂项</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic-v2/总练习">总练习</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/课程总结">课程总结</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/素材">素材</a></li></ol></div></nav></aside><style data-emotion="css 1308utl">.css-1308utl{position:fixed;right:1rem;bottom:1rem;z-index:100;background-color:rgba(82, 122, 253, 0.37);border-radius:50%;padding:10px;border:none;width:20px;height:20px;box-sizing:content-box;-webkit-transition:background-color 0.3s;transition:background-color 0.3s;}@media screen and (min-width: 1200px){.css-1308utl{display:none;}}.css-1308utl svg{width:inherit;height:inherit;-webkit-transition:-webkit-transform 0.3s;transition:transform 0.3s;-webkit-transform:rotateX(0);-moz-transform:rotateX(0);-ms-transform:rotateX(0);transform:rotateX(0);}.css-1308utl.active{background-color:rgba(0, 0, 0, 0.123);}.css-1308utl.active svg{-webkit-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);}</style><button class=" css-1308utl"><svg enable-background="new 0 0 32 32" id="Слой_1" version="1.1" viewBox="0 0 32 32"><path d="M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z" fill="#121313" id="Expand_More"></path><g></g><g></g><g></g><g></g><g></g><g></g></svg></button><style data-emotion="css 117dd4v">.css-117dd4v{margin:auto;width:90%;max-width:760px;}.css-117dd4v .article-container{padding:50px 10px;}.css-117dd4v .article-catalog{position:fixed;top:0;left:80%;left:calc(50% + 380px);bottom:0;overflow:hidden;z-index:10;}.css-117dd4v .article-catalog:hover{overflow:auto;overflow:overlay;padding-right:1rem;}@media screen and (max-width: 1200px){.css-117dd4v .article-catalog{display:none;}}</style><main class="css-117dd4v"><aside class="article-catalog"><style data-emotion="css f4f9ae">.css-f4f9ae{padding:20px 0;white-space:nowrap;min-width:120px;box-sizing:content-box;}.css-f4f9ae .title{padding-left:20px;margin-bottom:20px;font-size:1.2em;font-weight:lighter;}</style><nav class="css-f4f9ae"><div class="title">目录</div><style data-emotion="css smzts4">.css-smzts4 ol{list-style:none;padding-left:20px;margin:0;}.css-smzts4 ol ol{padding-left:10px;}.css-smzts4 ol li{line-height:30px;margin:0;}.css-smzts4 ol a{color:#555;-webkit-text-decoration:none;text-decoration:none;line-height:30px;}.css-smzts4 ol a:hover,.css-smzts4 ol a.current{color:#999;}</style><div class="css-smzts4"><ol><li><style data-emotion="css opu5s9">.css-opu5s9.active{color:#999;}</style><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#概述">概述</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#创建与 match 函数">创建与 match 函数</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#规则">规则</a><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#普通匹配">普通匹配</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#特殊规则字符">特殊规则字符</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#贪婪模式">贪婪模式</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#模式修正符">模式修正符</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#使用">使用</a><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#RegExp">RegExp</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#字符串函数">字符串函数</a></li></ol></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#性能与应用">性能与应用</a><ol><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#性能">性能</a></li><li><a class="css-opu5s9" href="/jnet-basic-v2/js/正则字符串/#应用">应用</a></li></ol></li></ol></div></nav></aside><div class="article-container"><style data-emotion="css dsvq8h">.css-dsvq8h{line-height:1.5;}.css-dsvq8h h1,.css-dsvq8h h2,.css-dsvq8h h3,.css-dsvq8h h4,.css-dsvq8h h5,.css-dsvq8h h6{font-weight:500;line-height:1.2;color:#212529;}.css-dsvq8h h1 a,.css-dsvq8h h2 a,.css-dsvq8h h3 a,.css-dsvq8h h4 a,.css-dsvq8h h5 a,.css-dsvq8h h6 a,.css-dsvq8h h1 a:hover,.css-dsvq8h h2 a:hover,.css-dsvq8h h3 a:hover,.css-dsvq8h h4 a:hover,.css-dsvq8h h5 a:hover,.css-dsvq8h h6 a:hover,.css-dsvq8h h1 a:active,.css-dsvq8h h2 a:active,.css-dsvq8h h3 a:active,.css-dsvq8h h4 a:active,.css-dsvq8h h5 a:active,.css-dsvq8h h6 a:active,.css-dsvq8h h1 a:visited,.css-dsvq8h h2 a:visited,.css-dsvq8h h3 a:visited,.css-dsvq8h h4 a:visited,.css-dsvq8h h5 a:visited,.css-dsvq8h h6 a:visited{color:inherit;}.css-dsvq8h h1{font-size:2.5rem;}.css-dsvq8h h2{font-size:2rem;}.css-dsvq8h h3{font-size:1.75rem;}.css-dsvq8h h4{font-size:1.5rem;}.css-dsvq8h h5{font-size:1.25rem;}.css-dsvq8h h6{font-size:1rem;}.css-dsvq8h p{font-weight:400;font-size:1rem;}.css-dsvq8h em{background-color:#fcf8e3;font-style:normal;color:#000;}.css-dsvq8h blockquote{margin:1.25rem -1rem;padding:0.5rem 1.25rem;border:1px solid #eee;border-left-width:0.25rem;border-radius:0.25rem;border-left-color:#f0ad4e;}.css-dsvq8h blockquote cite{text-align:right;color:silver;font-size:1rem;}.css-dsvq8h ul,.css-dsvq8h ol{padding-left:2rem;}.css-dsvq8h .remark-highlight{margin-left:-1rem;margin-right:-1rem;}.css-dsvq8h pre{border-radius:5px;box-shadow:0 0 10px 3px #cacaca;}.css-dsvq8h code{color:#e83e8c;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:87.5%;}.css-dsvq8h img{box-shadow:0 0 10px 3px rgba(222, 226, 230, 0.548);border-radius:5px;}.css-dsvq8h a{color:#0d6efd;}.css-dsvq8h a:hover{color:#488df5;}.css-dsvq8h a:visited{color:#0a5dda;}.css-dsvq8h a:active{color:#72a6f5;text-shadow:0 0 3px #7e8af8;}</style><article class="css-dsvq8h"><h1>正则字符串</h1><hr/><style data-emotion="css 1u87juy">.css-1u87juy:hover svg{visibility:visible;}</style><h2 id="概述" class="css-1u87juy">概述<style data-emotion="css 17vkerv">.css-17vkerv{float:left;margin-left:-24px;color:inherit;}.css-17vkerv svg{visibility:hidden;}</style><a href="#概述" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>正则表达式是一段特殊规则的字符串，它可以在一个字符串中找出满足指定规则的字符串子集，在处理字符串时，正则表达式有非常强的能力。</p><p>比如处理一个日期字符串，我们需要分离其年月日，如下：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token string">&quot;2000-01-02&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;年&quot;</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;月&quot;</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;日&quot;</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>但是现在出现了新的情况，数据格式不严谨，数据可能是以下样子：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> dates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;2000-01-02&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2000/01/02&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2000.01.02&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2000-1-2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>此时针对不同类型的日期格式，我们需要使用不同的方式去分割，并且在此之前，我们可能还不知道它们具体是什么格式，此时，一个正则字符串解决上述所有问题：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> dates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;2000-01-02&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2000/01/02&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2000.01.02&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2000-1-2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dates<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> m <span class="token operator">=</span> dates<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token anchor function">^</span><span class="token group punctuation">(</span><span class="token charclass class-name">\d</span><span class="token quantifier number">{4}</span><span class="token group punctuation">)</span><span class="token charclass class-name">.</span><span class="token group punctuation">(</span><span class="token charclass class-name">\d</span><span class="token quantifier number">{1,2}</span><span class="token group punctuation">)</span><span class="token charclass class-name">.</span><span class="token group punctuation">(</span><span class="token charclass class-name">\d</span><span class="token quantifier number">{1,2}</span><span class="token group punctuation">)</span><span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>m <span class="token operator">!==</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;年&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;月&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;日&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上面代码中，<code>/^(\d{4}).(\d?\d).(\d?\d)$/</code> 这一串火星文就是正则字符串，它表示一种规则，当字符串满足此规则，它会对其进行截取和分割。</p><p>现在简单的了解下这段正则字符串：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token anchor function">^</span><span class="token group punctuation">(</span><span class="token charclass class-name">\d</span><span class="token quantifier number">{4}</span><span class="token group punctuation">)</span><span class="token charclass class-name">.</span><span class="token group punctuation">(</span><span class="token charclass class-name">\d</span><span class="token quantifier number">?</span><span class="token charclass class-name">\d</span><span class="token group punctuation">)</span><span class="token charclass class-name">.</span><span class="token group punctuation">(</span><span class="token charclass class-name">\d</span><span class="token quantifier number">?</span><span class="token charclass class-name">\d</span><span class="token group punctuation">)</span><span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre></div><ul><li>首尾的反斜杠 <code>/</code> 是用来声明正则字符串，就类似普通字符串的单双引号。</li><li>开头的上尖号 <code>^</code> 指定字符串必须按照后续规则开头，也就是限制字符串的开头。</li><li>末尾的 <code>$</code> 和上尖号 <code>^</code> 类似，表示了必须按照这个规则结尾，也就是限制字符串的结尾。</li><li><code>\d{4}</code> 表示四个连续的数字，这个规则对应了年。</li><li>圆括号用来包裹一组规则，表示这段规则记作一组。正则字符串会在查找后把每组规则内的字符串会依次分割出来，所以后续我们可以根据数组访问 <code>m[1]</code>、<code>m[2]</code> 和 <code>m[3]</code> ，对应了年月日三组数据。</li><li>小数点 <code>.</code> 表示任何字符，正好对应了我们日期分隔符的不同。</li><li><code>\d{1,2}</code> 表示连续 1 到 2 个数字，对应了日期的月日缺省前缀 0 的情况，比如 <code>dates</code> 的最后一个值。</li></ul><p>把上面的话合并一下，这串正则表达式的意思就是：以 4 个数字开头，连接任意一个字符，连接一个或者两个数字，连接任意一个字符，连接一个或者两个数字结尾的字符串。</p><p>实际上正则表达式真的真的很简单，希望大家学习本课程千万不要有负担，不要被如火星文一般的表示方式迷惑，只要学习完正则的语法，<strong>它完全是可读的</strong>。</p><p><strong>备注：大部分程序语言的正则字符串都是统一参照 PCRE 标准，JS 中也是，所以你学习完正则字符串后，以后也可以在其他语言使用。如果你已经学习过 PCRE 标准的正则，那么可以直接跳过学习部分，去看使用章节。</strong></p><p>备注：为了简化，正则字符串后面简化为正则。</p><h2 id="创建与 match 函数" class="css-1u87juy">创建与 match 函数<a href="#创建与 match 函数" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><p>正则的创建有两种方式：</p><ul><li>字面量创建：使用反斜杠直接包裹</li><li>构造函数创建：使用 <code>RegExp</code> 构造函数</li></ul><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">12345</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;12345&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面两种方式都可以创建正则，第一种是字面量创建，第二种是函数创建，<code>RegExp</code> 函数接受一个普通字符串当做正则的规则。从第二种方式可以看出，正则在 JS 中是引用类型，它不是字符串类型。</p><p>每个字符串都可以使用 <code>match</code> 函数来根据正则查找，<code>match</code> 函数存在于 <code>String.prototype</code> 上。它的使用如下：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token string">&quot;abc 123 ABC&quot;</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">123</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>match</code> 函数会根据正则查找字符串，然后返回查找结果，如果不成功，返回一个 <code>null</code>。</p><blockquote><p>备注：在正则中，把查找的过程称作匹配，后续介绍中，都会使用匹配一词代替查找。</p></blockquote><h2 id="规则" class="css-1u87juy">规则<a href="#规则" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><h3 id="普通匹配" class="css-1u87juy">普通匹配<a href="#普通匹配" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>普通匹配就如同查找字符串，比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">&quot;abc 123 ABC&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">123</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>正则 <code>/123/</code> 的规则是字符串 &#x27;<code>123</code>&#x27;，上面代码中，会在 <code>foo</code> 字符串中查找字符串 &#x27;<code>123</code>&#x27;，如果匹配成功，返回匹配的字符串。</p><p>大部分字符在正则中都没规则意义，它们用于指定匹配的内容，比如数字，大小写字母，汉字等。</p><h3 id="特殊规则字符" class="css-1u87juy">特殊规则字符<a href="#特殊规则字符" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>在正则中，一部分字符或者转义字符具有特殊的意义，它们表示一定的规则，以下是常用具有规则意义的字符：</p><style data-emotion="css l3k28e">.css-l3k28e{overflow-x:auto;margin:1rem -1rem;box-shadow:0 0 10px 3px rgba(222, 226, 230, 0.548);border-radius:5px;}.css-l3k28e table{border-collapse:collapse;min-width:100%;}.css-l3k28e thead tr{border-bottom:1px solid currentColor;}.css-l3k28e tbody tr{border-bottom:1px solid #dee2e6;}.css-l3k28e tbody tr:hover{background-color:#f8f9fa;}.css-l3k28e td,.css-l3k28e th{padding:0.75em;border:inherit;text-align:left;}.css-l3k28e th{white-space:nowrap;}</style><div class="css-l3k28e"><table><thead><tr><th>规则字符</th><th>描述</th></tr></thead><tbody><tr><td><code>^</code></td><td>匹配字符串的开头，用以决定字符串由什么规则开始，比如 <code>/^abc/</code>，可以匹配 <code>abcdefe</code>，但是不能匹配 <code>1abcd</code>。</td></tr><tr><td><code>$</code></td><td>匹配字符串的结尾，用以决定字符串由什么规则结束，比如 <code>/abc$/</code>，可以匹配 <code>123abc</code>，但不能匹配 <code>abcd</code>。当它和 <code>^</code> 配合使用时，就限制了整个字符串的开头的结尾。</td></tr><tr><td><code>.</code></td><td>匹配任何字符，比如 <code>/a.c/</code> 就可以匹配到 <code>123aac</code>，中的 <code>aac</code>，或者匹配到 <code>a_b456</code> 中的 <code>a_b</code>。</td></tr><tr><td><code>*</code></td><td>匹配前一个规则 0 次或多次，比如 <code>/a*b/</code> 可以匹配字符串中的 <code>b</code>、<code>ab</code>、<code>aaaab</code></td></tr><tr><td><code>+</code></td><td>匹配前一个规则 1 次或多次，比如 <code>/a+b/</code> 可以匹配字符串中的 <code>ab</code>、<code>aaaaaab</code>，但是不能匹配到 <code>b</code>，因为 <code>b</code> 中没有出现 <code>a</code> 字符</td></tr><tr><td><code>?</code></td><td>匹配前一个规则 0 次或 1 次，比如 <code>/a?b/</code> 可以匹配字符串中的 <code>b</code> 和 <code>ab</code>，但不能匹配到 <code>abb</code></td></tr><tr><td><code>\d</code></td><td>匹配一个数字，比如 <code>/1\d\d/</code> 可以匹配字符串中的 <code>123</code>、<code>100</code>，例如在 <code>ab19876</code> 中，可以匹配到 <code>198</code> 三个数字。</td></tr><tr><td><code>\D</code></td><td>匹配一个非数字，比如 <code>/\D\d/</code> 可以匹配字符串中的 <code>h1</code>、<code>h2</code>、<code>c0</code>，例如在 <code>123@123.com</code> 中，可以匹配到 <code>@1</code> 这两个字符。</td></tr><tr><td><code>\s</code></td><td>匹配一个空白符，比如换行空格【tab】制表符，比如 <code>/abc\s/</code> 可以匹配 <code>abc abc!</code> 中的 <code>abc </code>，而不能匹配 <code>abc!</code></td></tr><tr><td><code>\S</code></td><td>匹配一个非空白符，比如 <code>/abc\S/</code> 可以匹配 <code>abc abc!</code> 中的 <code>abc!</code>。</td></tr><tr><td><code>\w</code></td><td>匹配大小写字母数字和下划线，比如 <code>/abc\w123/</code> 可以匹配字符串中的 <code>abc_123</code>、<code>abcA123</code>，但是不能匹配<code>abc@123</code>、<code>abc!123</code></td></tr><tr><td><code>\W</code></td><td>匹配大小写字母数字和下划线之外的字符，比如 <code>/abc\w123/</code> 可以匹配字符串中的 <code>abc@123</code>、<code>abc!123</code>。</td></tr><tr><td><code>\n</code></td><td>匹配换行符。</td></tr><tr><td><code>\r</code></td><td>匹配回车符。</td></tr><tr><td><code>\t</code></td><td>匹配水平制表符。</td></tr><tr><td><code>\</code></td><td>转义字符，可以把特殊字符转义为普通字符，比如需要匹配 JS 的文件，可以使用 <code>/.+\.js$/</code>，它会匹配如 <code>app.js</code>、<code>pro.js</code> 等字符串。同理，<code>\^$*+?{}[]</code> 等字符也可以使用正斜杠转义。</td></tr><tr><td><code>\b</code></td><td>匹配单词边界，比如 <code>/\bpen\b/</code> 只能能够单词 <code>pen</code>，例如 <code>a pen,a box</code> 中可以匹配 <code>pen</code>，<code>pen</code> 的左边是空格，右边是逗号，一般很难处理，但是使用 <code>\b</code> 就可以很容易匹配。</td></tr><tr><td><code>{n}</code></td><td>匹配前一个规则 n 次，比如 <code>/fo{2}/</code> 可以匹配字符串中的 <code>foo</code>，例如在 <code>bars foos</code> 中，<code>foo</code> 将会被匹配。</td></tr><tr><td><code>{n,}</code></td><td>匹配前一个规则多次，但是至少 n 次，比如 <code>/fo{2,}/</code> 可以匹配 <code>foo</code>、<code>fooo</code>、<code>fooooo</code>，其中字符 <code>o</code> 不能匹配 <code>2</code> 次以下。</td></tr><tr><td><code>{n,m}</code></td><td>匹配前一个规则 n 到 m 次，比如 <code>/fo{2,3}/</code> 就只能匹配 <code>foo</code>、与 <code>fooo</code></td></tr><tr><td><code>x\|y</code></td><td>匹配规则 x 或者规则 y，比如 <code>/1a\|b1/</code> 可以匹配 <code>1a1</code> 或者 <code>1b1</code>。</td></tr><tr><td><code>[xyz]</code></td><td>一个规则集合，匹配其中的任意规则，比如：<code>/1[abc]1/</code> 可以匹配 <code>1a1</code>、<code>1b1</code>、<code>1c1</code>。在规则集合中，可以使用扩折号来指定字母或者数字范围，比如 <code>/[a-z0-9A-Z_]/</code> 就等同于 <code>/\w/</code></td></tr><tr><td><code>[^xyz]</code></td><td>匹配一个规则集合的补集，比如：<code>/1[^abc]1/</code> 可以匹配 <code>1!1</code>、<code>1@1</code>，但是不能匹配 <code>1a1</code>。</td></tr><tr><td><code>(x)</code></td><td>匹配一个模式，可以理解成一个规则组。比如 <code>/(ab){2}/</code> 可以匹配 <code>abab</code>，如果不使用圆括号，<code>{}</code> 只能修饰前一个字符 <code>b</code>，而不是 <code>ab</code>。模式可以配合其他特殊字符使用，比如 <code>/(fo*){3}/</code> 可以匹配 <code>fff</code>、<code>foffoo</code>，<code>foofooofoooo</code>。</td></tr><tr><td><code>\数字</code></td><td>匹配一个模式的结果，数字指定了匹配哪一个模式，比如 <code>/(\d)a\1/</code> 中，<code>\1</code>表示匹配第一个模式的结果，其中第一个模式就是 <code>(\d)</code>，所以 <code>/(\d)a\1/</code> 可以匹配诸如 <code>1a1</code>，<code>9a9</code> 这样的字符串，但是不能匹配 <code>1a2</code>、<code>2a7</code>，因为 <code>\1</code> 匹配的是模式的结果，不是模式的规则。</td></tr><tr><td><code>(?:x)</code></td><td>匹配一个模式，但是不记录该模式，比如 <code>/(?:foo)(bar) \1/</code> 中， <code>\1</code> 找到的第一个模式将会是 <code>(bar)</code>，而不是 <code>(?:foo)</code>，<code>(?:foo)</code> 的作用和 <code>(foo)</code> 一样，但是它不被记录。</td></tr><tr><td><code>x(?=y)</code></td><td>匹配规则 x，但是需要规则 xy 成立。比如 <code>/foo(?=bar)/</code>，对于字符串 <code>foo foobar</code>，它会匹配第二个 <code>foo</code>，因为 <code>foo</code> 后必须要有 <code>bar</code> 字符串。</td></tr><tr><td><code>(?&lt;=y)x</code></td><td>匹配规则 x，但是需要规则 yx 成立。比如 <code>/(?&lt;=foo)bar/</code>，对于字符串 <code>bar foobar</code>，它只会匹配第二个 <code>bar</code>，因为 <code>bar</code> 前面必须要有 <code>foo</code> 字符串。</td></tr><tr><td><code>x(?!y)</code></td><td>匹配规则 x，但是需要规则 xy 不成立。比如 <code>/foo(?!bar)/</code>，对于字符串 <code>foobar foo</code>，他只会匹配第二个 <code>foo</code>，因为 <code>foo</code> 后面不能有 <code>bar</code> 字符串。</td></tr><tr><td><code>(?&lt;!y)x</code></td><td>匹配规则 x，但是需要规则 yx 不成立。写烦了不写例子了，前三个规则和这个规则使用并不频繁，需要使用的时候查表即可。</td></tr></tbody></table></div><p>以上是大部分正则中的特殊字符，使用较频繁。但是还没有列举完全，部分特殊字符使用非常少，可以 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">点此查表</a>。</p><h3 id="贪婪模式" class="css-1u87juy">贪婪模式<a href="#贪婪模式" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>默认情况下，JS 中的正则匹配是贪婪模式，贪婪模式会尽可能多的匹配字符串。在使用 <code>*</code>、<code>+</code>、<code>{n,}</code> 时，它们会尽可能多的匹配，比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token string">&quot;foo 123 foo abc foo zzz foo&quot;</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">foo<span class="token charclass class-name">.</span><span class="token quantifier number">*</span>foo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>匹配的结果是整个字符串，从开头的 <code>foo</code> 到结尾的 <code>foo</code> 中间，都会被 <code>.*</code> 匹配。这种情况的匹配，称作贪婪模式。</p><p><strong>可以在 <code>*</code>、<code>+</code>、<code>{n,}</code> 后面使用 <code>?</code> 来解除贪婪模式，让其匹配最短字符串</strong>，比如：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token string">&quot;foo 123 foo abc foo zzz foo&quot;</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">foo<span class="token charclass class-name">.</span><span class="token quantifier number">*?</span>foo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的正则只会匹配 <code>foo 123 foo</code>，然后就停止匹配。</p><h3 id="模式修正符" class="css-1u87juy">模式修正符<a href="#模式修正符" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>正则匹配时，还区分大小写，匹配成功的时候也会停止匹配，这些规则是可以调整的，使用讴歌 <strong>模式修正符</strong> 可以修改正则的匹配模式，模式修正符被放到正则的末尾，反斜杠 <code>/</code>的后面。</p><p>JS 中有常用模式修正符如下：</p><div class="css-l3k28e"><table><thead><tr><th>修正符</th><th>描述</th></tr></thead><tbody><tr><td><code>g</code></td><td>全局匹配，不会在匹配成功后停止匹配。</td></tr><tr><td><code>i</code></td><td>忽略大小写，比如 <code>/abc/i</code> 此时可以匹配到 <code>ABC</code>、<code>Abc</code>、<code>aBC</code> 等。</td></tr><tr><td><code>m</code></td><td>多行匹配，配合 <code>^</code> 和 <code>$</code> 使用，可以匹配任何一行的开头和结尾。比如 <code>/^bar/</code> 不能匹配 <code>foo\nbar</code> 中的 <code>bar</code> 字符串，但是 <code>/^bar/m</code> 就可以匹配，因为 <code>\n</code> 换行了，<code>bar</code> 字符串是第二行的开头。</td></tr><tr><td><code>s</code></td><td>让 <code>.</code> 可以匹配换行符，默认情况下 <code>/.*/</code> 只能匹配 <code>foo\nbar</code> 的 <code>foo</code>，不匹配换行符，但是 <code>/.*/s</code> 就可匹配整个字符串 <code>foo\nbar</code>。</td></tr></tbody></table></div><p>如果使用 <code>RegExp</code> 创建正则，模式修正符放在第二个参数：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;.*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token string">&quot;foo\nbar&quot;</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>模式修正符还有两个，它们可能并不常有或者是新标准的规定，我不会对其介绍，如果你非常非常有兴趣，可以看看：</p><div class="css-l3k28e"><table><thead><tr><th>修正符</th><th>描述</th></tr></thead><tbody><tr><td><code>u</code></td><td>是否开启 Unicode 模式匹配。Unicode 是一种字符集，开启此模式可以按一定模式匹配 Unicode 字符。比如中文 &#x27;<code>是</code>&#x27; 的 Unicode 编码是 <code>662f</code>，当我们匹配中文 &#x27;<code>是</code>&#x27; 这个字的时候，可以使用 <code>&#x27;是&#x27;.match(/\u{662f}/u)</code> 来匹配，可以匹配到中文 &#x27;<code>是</code>&#x27; 这个字。<br/>如果不开启 Unicode 模式，代码 <code>&#x27;是&#x27;.match(/\u{662f}/)</code> 会得到一个 <code>null</code>，<code>\u{xxxx}</code> 这种写法不生效。一般情况下，很少使用这种写法，因为 ： <br/>- <code>&#x27;是&#x27;.match(/\u662f/)</code><br/>- <code>&#x27;是&#x27;.match(/是/)</code><br/>- <code>&#x27;\u662f&#x27;.match(/是/)</code><br/>- <code>&#x27;\u662f&#x27;.match(/\u662f/)</code><br/>四种写法都可以匹配中文的 &#x27;<code>是</code>&#x27; 字</td></tr><tr><td><code>y</code></td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/sticky">点击这里</a></td></tr></tbody></table></div><h2 id="使用" class="css-1u87juy">使用<a href="#使用" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><h3 id="RegExp" class="css-1u87juy">RegExp<a href="#RegExp" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>在 JS 中，正则是引用类型，它们由 <code>RegExp</code> 构造而来，创建一个正则有以下方式：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">foo</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Regexp</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Regexp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">foo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>RegExp</code> 有两个常用的函数：</p><div class="css-l3k28e"><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td><code>exec</code></td><td>匹配一段字符串，匹配成功返回正则匹配结果，失败返回 <code>null</code>。类似字符串的 <code>match</code> 函数</td></tr><tr><td><code>test</code></td><td>匹配一段字符串，是返回 <code>true</code>，反之 <code>false</code>。</td></tr></tbody></table></div><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token charclass class-name">\w</span><span class="token quantifier number">+</span>@<span class="token charclass class-name">\w</span><span class="token quantifier number">+</span><span class="token special-escape escape">\.</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> htmlStr <span class="token operator">=</span> <span class="token string">&quot;&lt;p&gt; &lt;span&gt;hello&lt;/span&gt; &lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token method function property-access">exec</span><span class="token punctuation">(</span>htmlStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span>htmlStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>其中 <code>exec</code> 函数在匹配成功时，返回的对象是一个数组，它的下标和属性对应以下结果：</p><div class="css-l3k28e"><table><thead><tr><th>下标或属性</th><th>描述</th></tr></thead><tbody><tr><td><code>0</code></td><td>匹配的字符串</td></tr><tr><td><code>1~n</code></td><td>各个模式中匹配的字符串</td></tr><tr><td><code>index</code></td><td>匹配字符串的下标</td></tr><tr><td><code>input</code></td><td>原始字符串</td></tr></tbody></table></div><h3 id="字符串函数" class="css-1u87juy">字符串函数<a href="#字符串函数" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>字符串的一部分函数比如查找，替换等，也支持正则字符串：</p><div class="css-l3k28e"><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td><code>match</code></td><td>匹配一个正则，成功返回匹配结果，失败返回 <code>null</code>。当设置全局匹配时，<code>match</code> 只会得到一个包含所有匹配到的字符串的数组。</td></tr><tr><td><code>matchAll</code></td><td>匹配一个含有全局匹配的正则，返回一个迭代对象。成功或者失败都会返回一个迭代对象。（迭代对象属于新标准中的知识，再次不多介绍）</td></tr><tr><td><code>search</code></td><td>按照正则查找字符串，函数功能不变。</td></tr><tr><td><code>replace</code></td><td>按照规则替换字符串，函数功能不变。</td></tr><tr><td><code>split</code></td><td>按照规则分割字符串，函数功能不变。</td></tr></tbody></table></div><p>演示：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;foobarfoobarfoobar&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token group punctuation">(</span>oo<span class="token group punctuation">)</span><span class="token charclass class-name">.</span><span class="token charclass class-name">.</span></span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 迭代对象可以使用 for of 遍历，for of 也是新标准中的语法，本系列课程不介绍</span>
<span class="token keyword">var</span> mAll <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token method function property-access">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> mAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token method function property-access">search</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&quot; replace &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="性能与应用" class="css-1u87juy">性能与应用<a href="#性能与应用" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2><h3 id="性能" class="css-1u87juy">性能<a href="#性能" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>使用正则字符串实际上非常耗费性能，在一对多的服务中，很少使用正则，比如服务器，大量正则的使用是给计算机带来很大负担。但是 JS 是客户端语言，负担会小很多。</p><h3 id="应用" class="css-1u87juy">应用<a href="#应用" class="css-17vkerv"><svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" color="inherit"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3><p>正则一般都是用来处理有一定规则的文本，比如日期，邮箱，网址，手机号等等，使用正则分解这些文本会变得异常简单，比如本页最开始的段落，我们处理日期一样。</p><p>尝试编写一个匹配邮箱的正则：邮箱的规则一般分为两部分，<code>@</code> 符前面表示账户，<code>@</code> 符后表示邮箱的主机（域名），比如 QQ 邮箱就是 <a href="mailto:xxxxx@qq.com">xxxxx@qq.com</a>，其中账户或者主机一般都由数字、字母、下划线和扩折号 <code>-</code> 组成，主机至少由两个单词组成，中间用点连接。所以一个邮箱的规则可以写成：</p><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> emailReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token anchor function">^</span><span class="token charset"><span class="token charset-punctuation punctuation">[</span><span class="token charclass class-name">\w</span>-<span class="token charset-punctuation punctuation">]</span></span><span class="token quantifier number">+</span>@<span class="token charset"><span class="token charset-punctuation punctuation">[</span><span class="token charclass class-name">\w</span>-<span class="token charset-punctuation punctuation">]</span></span><span class="token quantifier number">+</span><span class="token group punctuation">(</span><span class="token special-escape escape">\.</span><span class="token charset"><span class="token charset-punctuation punctuation">[</span><span class="token charclass class-name">\w</span>-<span class="token charset-punctuation punctuation">]</span></span><span class="token quantifier number">+</span><span class="token group punctuation">)</span><span class="token quantifier number">+</span><span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;123456@163.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//true</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;123456@gmail.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// true</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;123456@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// true</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;123456@mail.com.cn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// true</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;@main.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// false</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;123456@com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// false</span>
  emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token string">&quot;123456mail.com&quot;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果你的项目有验证邮箱的需要，那么可以根据上述方式来判断表单是否提交，比如：</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>申请账号需要一个邮箱<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mail<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> emailReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token anchor function">^</span><span class="token charset"><span class="token charset-punctuation punctuation">[</span><span class="token charclass class-name">\w</span>-<span class="token charset-punctuation punctuation">]</span></span><span class="token quantifier number">+</span>@<span class="token charset"><span class="token charset-punctuation punctuation">[</span><span class="token charclass class-name">\w</span>-<span class="token charset-punctuation punctuation">]</span></span><span class="token quantifier number">+</span><span class="token group punctuation">(</span><span class="token special-escape escape">\.</span><span class="token charset"><span class="token charset-punctuation punctuation">[</span><span class="token charclass class-name">\w</span>-<span class="token charset-punctuation punctuation">]</span></span><span class="token quantifier number">+</span><span class="token group punctuation">)</span><span class="token quantifier number">+</span><span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> formEl <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;form&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> inputEl <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;mail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  formEl<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>emailReg<span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span>inputEl<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 提交表单</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;验证成功，即将提交。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;邮箱格式不正确，请重新输入。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></article></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/js/正则字符串/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-da8157b780a7e1fd9e9e.js"],"app":["/app-38218a2ef72326a75367.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f91e86cfe65092e3adc1.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-57b3b630e72243cc3df9.js"],"component---src-templates-docs-tsx":["/component---src-templates-docs-tsx-3f6722c11400634ddec5.js"]};/*]]>*/</script><script src="/jnet-basic-v2/polyfill-da8157b780a7e1fd9e9e.js" nomodule=""></script><script src="/jnet-basic-v2/component---src-templates-docs-tsx-3f6722c11400634ddec5.js" async=""></script><script src="/jnet-basic-v2/1512ff2dbf77859a0dcbee24710e2018e282937f-369ee37846485c1e14f7.js" async=""></script><script src="/jnet-basic-v2/app-38218a2ef72326a75367.js" async=""></script><script src="/jnet-basic-v2/framework-e8e53ba50a7a1b0850f7.js" async=""></script><script src="/jnet-basic-v2/webpack-runtime-a52939d631f5cc604aea.js" async=""></script></body></html>